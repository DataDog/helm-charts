registry: "docker.io/datadog"
datadog:
  operator:
    # datadog.operator.enabled -- Enable the Datadog Operator
    enabled: true
    # datadog.operator.createDDAManifest -- Enable the creation of the DatadogAgent manifest
    # FLIP TO TRUE TO MIGRATE
    createDDAManifest: true
    # datadog.operator.migration.enabled -- Enable migration to the operator
    migrationEnabled: true
  ## If set, this parameter takes precedence over "apiKey".
  apiKeyExistingSecret:  datadog-secret

  ## If set, this parameter takes precedence over "appKey".
  appKeyExistingSecret:  datadog-secret
  logLevel: "debug"
  clusterName:  migration-poc1

  kubeStateMetricsCore:
    enabled: true
  useHostPID: true

  clusterChecks:
    enabled: true
    shareProcessNamespace: true

  nodeLabelsAsTags:
    beta.kubernetes.io/instance-type: aws-instance-type
  podLabelsAsTags:
    app: kube_app
  podAnnotationsAsTags:
    iam.amazonaws.com/role: kube_iamrole
  namespaceLabelsAsTags:
    env: environment
  tags:
    - "test:tag"
  checksCardinality: low

  kubelet:
    tlsVerify: false

  dogstatsd:
    port: 1234
    originDetection: true
    useSocketVolume: true
    useHostPort: false
  prometheusScrape:
    enabled: true
    additionalConfigs:
      -
        autodiscovery:
          kubernetes_annotations:
            include:
              custom_include_label: 'true'
            exclude:
              custom_exclude_label: 'true'
          kubernetes_container_names:
            - my-app
        configurations:
          - send_distribution_buckets: true
            timeout: 5
  otelCollector:
    enabled: true
    ports:
      - containerPort: 4317
        name: otel-grpc
        protocol: TCP
        # Default HTTP port of OTLP receiver
      - containerPort: 4318
        name: otel-http
        protocol: TCP

datadog-operator:
  #  image:
  #    repository:
  #    tag:
  #    doNotCheckTag: true
  logLevel: debug
  apiKeyExistingSecret: datadog-secret
  appKeyExistingSecret: datadog-secret