{{- define "containers-dogstatsd-env" -}}
{{- if .Values.datadog.dogstatsd.port }}
- name: DD_DOGSTATSD_PORT
  value: {{ .Values.datadog.dogstatsd.port | quote }}
{{- end }}
{{- if .Values.datadog.dogstatsd.nonLocalTraffic }}
- name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
  value: {{ .Values.datadog.dogstatsd.nonLocalTraffic | quote }}
{{- end }}
{{- if .Values.datadog.dogstatsd.originDetection }}
- name: DD_DOGSTATSD_ORIGIN_DETECTION
  value: {{ .Values.datadog.dogstatsd.originDetection | quote }}
- name: DD_DOGSTATSD_ORIGIN_DETECTION_CLIENT
  value: {{ .Values.datadog.dogstatsd.originDetection | quote }}
{{- end }}
{{- if .Values.datadog.dogstatsd.tagCardinality }}
- name: DD_DOGSTATSD_TAG_CARDINALITY
  value: {{ .Values.datadog.dogstatsd.tagCardinality | quote }}
{{- end }}
{{- if .Values.datadog.dogstatsd.tags }}
- name: DD_DOGSTATSD_TAGS
  value: {{ tpl (.Values.datadog.dogstatsd.tags | join " " | quote) . }}
{{- end }}
{{- if eq .Values.targetSystem "linux" }}
- name: DD_DOGSTATSD_SOCKET
  value: {{ .Values.datadog.dogstatsd.socketPath | quote }}
{{- end }}
{{- end -}}