{{- define "container-host-release-volumemounts" -}}
{{- if or .Values.datadog.systemProbe.osReleasePath .Values.datadog.osReleasePath }}
{{- if eq (include "should-enable-system-probe" .) "true" }}
- name: os-release-file
  mountPath: /host{{ .Values.datadog.systemProbe.osReleasePath | default .Values.datadog.osReleasePath }}
  readOnly: true
{{- else }}
- name: os-release-file
  mountPath: /host{{ .Values.datadog.osReleasePath }}
  readOnly: true
{{- end }}
{{- else }}
- name: etc-os-release
  mountPath: /host/etc/os-release
  mountPropagation: {{ .Values.datadog.hostVolumeMountPropagation }}
  readOnly: true
- name: etc-redhat-release
  mountPath: /host/etc/redhat-release
  mountPropagation: {{ .Values.datadog.hostVolumeMountPropagation }}
  readOnly: true
- name: etc-fedora-release
  mountPath: /host/etc/fedora-release
  mountPropagation: {{ .Values.datadog.hostVolumeMountPropagation }}
  readOnly: true
- name: etc-lsb-release
  mountPath: /host/etc/lsb-release
  mountPropagation: {{ .Values.datadog.hostVolumeMountPropagation }}
  readOnly: true
{{- end }}
{{- end }}
