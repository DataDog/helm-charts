apiVersion: v1
kind: ServiceAccount
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: operator
    app.kubernetes.io/version: 1.19.0
  name: datadog-operator
  namespace: datadog-agent
---
apiVersion: v1
automountServiceAccountToken: true
kind: ServiceAccount
metadata:
  labels:
    app: datadog
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
    heritage: Helm
    release: datadog
  name: datadog-cluster-checks
  namespace: datadog-agent
---
apiVersion: v1
automountServiceAccountToken: true
kind: ServiceAccount
metadata:
  labels:
    app: datadog
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
    heritage: Helm
    release: datadog
  name: datadog-cluster-agent
  namespace: datadog-agent
---
apiVersion: v1
automountServiceAccountToken: true
kind: ServiceAccount
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog
  namespace: datadog-agent
---
apiVersion: v1
data: {}
kind: Secret
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-cluster-agent
  namespace: datadog-agent
type: Opaque
---
apiVersion: v1
data:
  kubernetes_apiserver.yaml: |-
    init_config:
    instances:
      -
        filtering_enabled: false
        unbundle_events: false
  kubernetes_state_core.yaml.default: |-
    init_config:
    instances:
      - collectors:
        - secrets
        - configmaps
        - nodes
        - pods
        - services
        - resourcequotas
        - replicationcontrollers
        - limitranges
        - persistentvolumeclaims
        - persistentvolumes
        - namespaces
        - endpoints
        - daemonsets
        - deployments
        - replicasets
        - statefulsets
        - cronjobs
        - jobs
        - horizontalpodautoscalers
        - poddisruptionbudgets
        - storageclasses
        - volumeattachments
        - ingresses
        labels_as_tags:
          {}
        annotations_as_tags:
          {}
kind: ConfigMap
metadata:
  annotations: {}
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-cluster-agent-confd
  namespace: datadog-agent
---
apiVersion: v1
data: {}
kind: ConfigMap
metadata:
  annotations: {}
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-installinfo
  namespace: datadog-agent
---
apiVersion: v1
data:
  install_type: k8s_manual
kind: ConfigMap
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-kpi-telemetry-configmap
  namespace: datadog-agent
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.3
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadogCRDs
  name: datadogagents.datadoghq.com
spec:
  group: datadoghq.com
  names:
    kind: DatadogAgent
    listKind: DatadogAgentList
    plural: datadogagents
    shortNames:
      - dd
    singular: datadogagent
  scope: Namespaced
  versions:
    - additionalPrinterColumns:
        - jsonPath: .status.agent.status
          name: agent
          type: string
        - jsonPath: .status.clusterAgent.status
          name: cluster-agent
          type: string
        - jsonPath: .status.clusterChecksRunner.status
          name: cluster-checks-runner
          type: string
        - jsonPath: .metadata.creationTimestamp
          name: age
          type: date
      name: v2alpha1
      schema:
        openAPIV3Schema:
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              properties:
                features:
                  properties:
                    admissionController:
                      properties:
                        agentCommunicationMode:
                          type: string
                        agentSidecarInjection:
                          properties:
                            clusterAgentCommunicationEnabled:
                              type: boolean
                            enabled:
                              type: boolean
                            image:
                              properties:
                                jmxEnabled:
                                  type: boolean
                                name:
                                  type: string
                                pullPolicy:
                                  type: string
                                pullSecrets:
                                  items:
                                    properties:
                                      name:
                                        default: ""
                                        type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  type: array
                                tag:
                                  type: string
                              type: object
                            profiles:
                              items:
                                properties:
                                  env:
                                    items:
                                      properties:
                                        name:
                                          type: string
                                        value:
                                          type: string
                                        valueFrom:
                                          properties:
                                            configMapKeyRef:
                                              properties:
                                                key:
                                                  type: string
                                                name:
                                                  default: ""
                                                  type: string
                                                optional:
                                                  type: boolean
                                              required:
                                                - key
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            fieldRef:
                                              properties:
                                                apiVersion:
                                                  type: string
                                                fieldPath:
                                                  type: string
                                              required:
                                                - fieldPath
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            resourceFieldRef:
                                              properties:
                                                containerName:
                                                  type: string
                                                divisor:
                                                  anyOf:
                                                    - type: integer
                                                    - type: string
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                resource:
                                                  type: string
                                              required:
                                                - resource
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            secretKeyRef:
                                              properties:
                                                key:
                                                  type: string
                                                name:
                                                  default: ""
                                                  type: string
                                                optional:
                                                  type: boolean
                                              required:
                                                - key
                                              type: object
                                              x-kubernetes-map-type: atomic
                                          type: object
                                      required:
                                        - name
                                      type: object
                                    type: array
                                    x-kubernetes-list-map-keys:
                                      - name
                                    x-kubernetes-list-type: map
                                  resources:
                                    properties:
                                      claims:
                                        items:
                                          properties:
                                            name:
                                              type: string
                                            request:
                                              type: string
                                          required:
                                            - name
                                          type: object
                                        type: array
                                        x-kubernetes-list-map-keys:
                                          - name
                                        x-kubernetes-list-type: map
                                      limits:
                                        additionalProperties:
                                          anyOf:
                                            - type: integer
                                            - type: string
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        type: object
                                      requests:
                                        additionalProperties:
                                          anyOf:
                                            - type: integer
                                            - type: string
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        type: object
                                    type: object
                                  securityContext:
                                    properties:
                                      allowPrivilegeEscalation:
                                        type: boolean
                                      appArmorProfile:
                                        properties:
                                          localhostProfile:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - type
                                        type: object
                                      capabilities:
                                        properties:
                                          add:
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          drop:
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        type: object
                                      privileged:
                                        type: boolean
                                      procMount:
                                        type: string
                                      readOnlyRootFilesystem:
                                        type: boolean
                                      runAsGroup:
                                        format: int64
                                        type: integer
                                      runAsNonRoot:
                                        type: boolean
                                      runAsUser:
                                        format: int64
                                        type: integer
                                      seLinuxOptions:
                                        properties:
                                          level:
                                            type: string
                                          role:
                                            type: string
                                          type:
                                            type: string
                                          user:
                                            type: string
                                        type: object
                                      seccompProfile:
                                        properties:
                                          localhostProfile:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - type
                                        type: object
                                      windowsOptions:
                                        properties:
                                          gmsaCredentialSpec:
                                            type: string
                                          gmsaCredentialSpecName:
                                            type: string
                                          hostProcess:
                                            type: boolean
                                          runAsUserName:
                                            type: string
                                        type: object
                                    type: object
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            provider:
                              type: string
                            registry:
                              type: string
                            selectors:
                              items:
                                properties:
                                  namespaceSelector:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: string
                                            operator:
                                              type: string
                                            values:
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                            - key
                                            - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        type: object
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  objectSelector:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: string
                                            operator:
                                              type: string
                                            values:
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                            - key
                                            - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        type: object
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                          type: object
                        cwsInstrumentation:
                          properties:
                            enabled:
                              type: boolean
                            mode:
                              type: string
                          type: object
                        enabled:
                          type: boolean
                        failurePolicy:
                          type: string
                        kubernetesAdmissionEvents:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        mutateUnlabelled:
                          type: boolean
                        mutation:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        registry:
                          type: string
                        serviceName:
                          type: string
                        validation:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        webhookName:
                          type: string
                      type: object
                    apm:
                      properties:
                        enabled:
                          type: boolean
                        errorTrackingStandalone:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        hostPortConfig:
                          properties:
                            enabled:
                              type: boolean
                            hostPort:
                              format: int32
                              type: integer
                          type: object
                        instrumentation:
                          properties:
                            disabledNamespaces:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: set
                            enabled:
                              type: boolean
                            enabledNamespaces:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: set
                            injector:
                              properties:
                                imageTag:
                                  type: string
                              type: object
                            languageDetection:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                            libVersions:
                              additionalProperties:
                                type: string
                              type: object
                            targets:
                              items:
                                properties:
                                  ddTraceConfigs:
                                    items:
                                      properties:
                                        name:
                                          type: string
                                        value:
                                          type: string
                                        valueFrom:
                                          properties:
                                            configMapKeyRef:
                                              properties:
                                                key:
                                                  type: string
                                                name:
                                                  default: ""
                                                  type: string
                                                optional:
                                                  type: boolean
                                              required:
                                                - key
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            fieldRef:
                                              properties:
                                                apiVersion:
                                                  type: string
                                                fieldPath:
                                                  type: string
                                              required:
                                                - fieldPath
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            resourceFieldRef:
                                              properties:
                                                containerName:
                                                  type: string
                                                divisor:
                                                  anyOf:
                                                    - type: integer
                                                    - type: string
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                resource:
                                                  type: string
                                              required:
                                                - resource
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            secretKeyRef:
                                              properties:
                                                key:
                                                  type: string
                                                name:
                                                  default: ""
                                                  type: string
                                                optional:
                                                  type: boolean
                                              required:
                                                - key
                                              type: object
                                              x-kubernetes-map-type: atomic
                                          type: object
                                      required:
                                        - name
                                      type: object
                                    type: array
                                    x-kubernetes-list-map-keys:
                                      - name
                                    x-kubernetes-list-type: map
                                  ddTraceVersions:
                                    additionalProperties:
                                      type: string
                                    type: object
                                  name:
                                    type: string
                                  namespaceSelector:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: string
                                            operator:
                                              type: string
                                            values:
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                            - key
                                            - operator
                                          type: object
                                        type: array
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        type: object
                                      matchNames:
                                        items:
                                          type: string
                                        type: array
                                    type: object
                                  podSelector:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: string
                                            operator:
                                              type: string
                                            values:
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                            - key
                                            - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        type: object
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: object
                              type: array
                          type: object
                        unixDomainSocketConfig:
                          properties:
                            enabled:
                              type: boolean
                            path:
                              type: string
                          type: object
                      type: object
                    asm:
                      properties:
                        iast:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        sca:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        threats:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                      type: object
                    autoscaling:
                      properties:
                        workload:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                      type: object
                    clusterChecks:
                      properties:
                        enabled:
                          type: boolean
                        useClusterChecksRunners:
                          type: boolean
                      type: object
                    controlPlaneMonitoring:
                      properties:
                        enabled:
                          type: boolean
                      type: object
                    cspm:
                      properties:
                        checkInterval:
                          type: string
                        customBenchmarks:
                          properties:
                            configData:
                              type: string
                            configMap:
                              properties:
                                items:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                    required:
                                      - key
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                    - key
                                  x-kubernetes-list-type: map
                                name:
                                  type: string
                              type: object
                          type: object
                        enabled:
                          type: boolean
                        hostBenchmarks:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                      type: object
                    cws:
                      properties:
                        customPolicies:
                          properties:
                            configData:
                              type: string
                            configMap:
                              properties:
                                items:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                    required:
                                      - key
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                    - key
                                  x-kubernetes-list-type: map
                                name:
                                  type: string
                              type: object
                          type: object
                        directSendFromSystemProbe:
                          type: boolean
                        enabled:
                          type: boolean
                        network:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        remoteConfiguration:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        securityProfiles:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        syscallMonitorEnabled:
                          type: boolean
                      type: object
                    dogstatsd:
                      properties:
                        hostPortConfig:
                          properties:
                            enabled:
                              type: boolean
                            hostPort:
                              format: int32
                              type: integer
                          type: object
                        mapperProfiles:
                          properties:
                            configData:
                              type: string
                            configMap:
                              properties:
                                items:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                    required:
                                      - key
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                    - key
                                  x-kubernetes-list-type: map
                                name:
                                  type: string
                              type: object
                          type: object
                        nonLocalTraffic:
                          type: boolean
                        originDetectionEnabled:
                          type: boolean
                        tagCardinality:
                          type: string
                        unixDomainSocketConfig:
                          properties:
                            enabled:
                              type: boolean
                            path:
                              type: string
                          type: object
                      type: object
                    ebpfCheck:
                      properties:
                        enabled:
                          type: boolean
                      type: object
                    eventCollection:
                      properties:
                        collectKubernetesEvents:
                          type: boolean
                        collectedEventTypes:
                          items:
                            properties:
                              kind:
                                type: string
                              reasons:
                                items:
                                  type: string
                                type: array
                                x-kubernetes-list-type: atomic
                            required:
                              - kind
                              - reasons
                            type: object
                          type: array
                          x-kubernetes-list-type: atomic
                        unbundleEvents:
                          type: boolean
                      type: object
                    externalMetricsServer:
                      properties:
                        enabled:
                          type: boolean
                        endpoint:
                          properties:
                            credentials:
                              properties:
                                apiKey:
                                  type: string
                                apiSecret:
                                  properties:
                                    keyName:
                                      type: string
                                    secretName:
                                      type: string
                                  required:
                                    - secretName
                                  type: object
                                appKey:
                                  type: string
                                appSecret:
                                  properties:
                                    keyName:
                                      type: string
                                    secretName:
                                      type: string
                                  required:
                                    - secretName
                                  type: object
                              type: object
                            url:
                              type: string
                          type: object
                        port:
                          format: int32
                          type: integer
                        registerAPIService:
                          type: boolean
                        useDatadogMetrics:
                          type: boolean
                        wpaController:
                          type: boolean
                      type: object
                    gpu:
                      properties:
                        enabled:
                          type: boolean
                        patchCgroupPermissions:
                          type: boolean
                        privilegedMode:
                          type: boolean
                        requiredRuntimeClassName:
                          type: string
                      type: object
                    helmCheck:
                      properties:
                        collectEvents:
                          type: boolean
                        enabled:
                          type: boolean
                        valuesAsTags:
                          additionalProperties:
                            type: string
                          type: object
                      type: object
                    kubeStateMetricsCore:
                      properties:
                        conf:
                          properties:
                            configData:
                              type: string
                            configMap:
                              properties:
                                items:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                    required:
                                      - key
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                    - key
                                  x-kubernetes-list-type: map
                                name:
                                  type: string
                              type: object
                          type: object
                        enabled:
                          type: boolean
                      type: object
                    liveContainerCollection:
                      properties:
                        enabled:
                          type: boolean
                      type: object
                    liveProcessCollection:
                      properties:
                        enabled:
                          type: boolean
                        scrubProcessArguments:
                          type: boolean
                        stripProcessArguments:
                          type: boolean
                      type: object
                    logCollection:
                      properties:
                        autoMultiLineDetection:
                          type: boolean
                        containerCollectAll:
                          type: boolean
                        containerCollectUsingFiles:
                          type: boolean
                        containerLogsPath:
                          type: string
                        containerSymlinksPath:
                          type: string
                        enabled:
                          type: boolean
                        openFilesLimit:
                          format: int32
                          type: integer
                        podLogsPath:
                          type: string
                        tempStoragePath:
                          type: string
                      type: object
                    npm:
                      properties:
                        collectDNSStats:
                          type: boolean
                        enableConntrack:
                          type: boolean
                        enabled:
                          type: boolean
                      type: object
                    oomKill:
                      properties:
                        enabled:
                          type: boolean
                      type: object
                    orchestratorExplorer:
                      properties:
                        conf:
                          properties:
                            configData:
                              type: string
                            configMap:
                              properties:
                                items:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                    required:
                                      - key
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                    - key
                                  x-kubernetes-list-type: map
                                name:
                                  type: string
                              type: object
                          type: object
                        customResources:
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: set
                        ddUrl:
                          type: string
                        enabled:
                          type: boolean
                        extraTags:
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: set
                        scrubContainers:
                          type: boolean
                      type: object
                    otelCollector:
                      properties:
                        conf:
                          properties:
                            configData:
                              type: string
                            configMap:
                              properties:
                                items:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                    required:
                                      - key
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                    - key
                                  x-kubernetes-list-type: map
                                name:
                                  type: string
                              type: object
                          type: object
                        coreConfig:
                          properties:
                            enabled:
                              type: boolean
                            extensionTimeout:
                              type: integer
                            extensionURL:
                              type: string
                          type: object
                        enabled:
                          type: boolean
                        ports:
                          items:
                            properties:
                              containerPort:
                                format: int32
                                type: integer
                              hostIP:
                                type: string
                              hostPort:
                                format: int32
                                type: integer
                              name:
                                type: string
                              protocol:
                                default: TCP
                                type: string
                            required:
                              - containerPort
                            type: object
                          type: array
                          x-kubernetes-list-type: atomic
                      type: object
                    otlp:
                      properties:
                        receiver:
                          properties:
                            protocols:
                              properties:
                                grpc:
                                  properties:
                                    enabled:
                                      type: boolean
                                    endpoint:
                                      type: string
                                    hostPortConfig:
                                      properties:
                                        enabled:
                                          type: boolean
                                        hostPort:
                                          format: int32
                                          type: integer
                                      type: object
                                  type: object
                                http:
                                  properties:
                                    enabled:
                                      type: boolean
                                    endpoint:
                                      type: string
                                    hostPortConfig:
                                      properties:
                                        enabled:
                                          type: boolean
                                        hostPort:
                                          format: int32
                                          type: integer
                                      type: object
                                  type: object
                              type: object
                          type: object
                      type: object
                    processDiscovery:
                      properties:
                        enabled:
                          type: boolean
                      type: object
                    prometheusScrape:
                      properties:
                        additionalConfigs:
                          type: string
                        enableServiceEndpoints:
                          type: boolean
                        enabled:
                          type: boolean
                        version:
                          type: integer
                      type: object
                    remoteConfiguration:
                      properties:
                        enabled:
                          type: boolean
                      type: object
                    sbom:
                      properties:
                        containerImage:
                          properties:
                            analyzers:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: set
                            enabled:
                              type: boolean
                            overlayFSDirectScan:
                              type: boolean
                            uncompressedLayersSupport:
                              type: boolean
                          type: object
                        enabled:
                          type: boolean
                        host:
                          properties:
                            analyzers:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: set
                            enabled:
                              type: boolean
                          type: object
                      type: object
                    serviceDiscovery:
                      properties:
                        enabled:
                          type: boolean
                        networkStats:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                      type: object
                    tcpQueueLength:
                      properties:
                        enabled:
                          type: boolean
                      type: object
                    usm:
                      properties:
                        enabled:
                          type: boolean
                      type: object
                  type: object
                global:
                  properties:
                    checksTagCardinality:
                      type: string
                    clusterAgentToken:
                      type: string
                    clusterAgentTokenSecret:
                      properties:
                        keyName:
                          type: string
                        secretName:
                          type: string
                      required:
                        - secretName
                      type: object
                    clusterName:
                      type: string
                    containerStrategy:
                      type: string
                    credentials:
                      properties:
                        apiKey:
                          type: string
                        apiSecret:
                          properties:
                            keyName:
                              type: string
                            secretName:
                              type: string
                          required:
                            - secretName
                          type: object
                        appKey:
                          type: string
                        appSecret:
                          properties:
                            keyName:
                              type: string
                            secretName:
                              type: string
                          required:
                            - secretName
                          type: object
                      type: object
                    criSocketPath:
                      type: string
                    csi:
                      properties:
                        enabled:
                          type: boolean
                      type: object
                    disableNonResourceRules:
                      type: boolean
                    dockerSocketPath:
                      type: string
                    endpoint:
                      properties:
                        credentials:
                          properties:
                            apiKey:
                              type: string
                            apiSecret:
                              properties:
                                keyName:
                                  type: string
                                secretName:
                                  type: string
                              required:
                                - secretName
                              type: object
                            appKey:
                              type: string
                            appSecret:
                              properties:
                                keyName:
                                  type: string
                                secretName:
                                  type: string
                              required:
                                - secretName
                              type: object
                          type: object
                        url:
                          type: string
                      type: object
                    env:
                      items:
                        properties:
                          name:
                            type: string
                          value:
                            type: string
                          valueFrom:
                            properties:
                              configMapKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                              fieldRef:
                                properties:
                                  apiVersion:
                                    type: string
                                  fieldPath:
                                    type: string
                                required:
                                  - fieldPath
                                type: object
                                x-kubernetes-map-type: atomic
                              resourceFieldRef:
                                properties:
                                  containerName:
                                    type: string
                                  divisor:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  resource:
                                    type: string
                                required:
                                  - resource
                                type: object
                                x-kubernetes-map-type: atomic
                              secretKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                            type: object
                        required:
                          - name
                        type: object
                      type: array
                      x-kubernetes-list-map-keys:
                        - name
                      x-kubernetes-list-type: map
                    fips:
                      properties:
                        customFIPSConfig:
                          properties:
                            configData:
                              type: string
                            configMap:
                              properties:
                                items:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                    required:
                                      - key
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                    - key
                                  x-kubernetes-list-type: map
                                name:
                                  type: string
                              type: object
                          type: object
                        enabled:
                          type: boolean
                        image:
                          properties:
                            jmxEnabled:
                              type: boolean
                            name:
                              type: string
                            pullPolicy:
                              type: string
                            pullSecrets:
                              items:
                                properties:
                                  name:
                                    default: ""
                                    type: string
                                type: object
                                x-kubernetes-map-type: atomic
                              type: array
                            tag:
                              type: string
                          type: object
                        localAddress:
                          type: string
                        port:
                          format: int32
                          type: integer
                        portRange:
                          format: int32
                          type: integer
                        resources:
                          properties:
                            claims:
                              items:
                                properties:
                                  name:
                                    type: string
                                  request:
                                    type: string
                                required:
                                  - name
                                type: object
                              type: array
                              x-kubernetes-list-map-keys:
                                - name
                              x-kubernetes-list-type: map
                            limits:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              type: object
                            requests:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              type: object
                          type: object
                        useHTTPS:
                          type: boolean
                      type: object
                    kubelet:
                      properties:
                        agentCAPath:
                          type: string
                        host:
                          properties:
                            configMapKeyRef:
                              properties:
                                key:
                                  type: string
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              required:
                                - key
                              type: object
                              x-kubernetes-map-type: atomic
                            fieldRef:
                              properties:
                                apiVersion:
                                  type: string
                                fieldPath:
                                  type: string
                              required:
                                - fieldPath
                              type: object
                              x-kubernetes-map-type: atomic
                            resourceFieldRef:
                              properties:
                                containerName:
                                  type: string
                                divisor:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                resource:
                                  type: string
                              required:
                                - resource
                              type: object
                              x-kubernetes-map-type: atomic
                            secretKeyRef:
                              properties:
                                key:
                                  type: string
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              required:
                                - key
                              type: object
                              x-kubernetes-map-type: atomic
                          type: object
                        hostCAPath:
                          type: string
                        podResourcesSocketPath:
                          type: string
                        tlsVerify:
                          type: boolean
                      type: object
                    kubernetesResourcesAnnotationsAsTags:
                      additionalProperties:
                        additionalProperties:
                          type: string
                        type: object
                      type: object
                    kubernetesResourcesLabelsAsTags:
                      additionalProperties:
                        additionalProperties:
                          type: string
                        type: object
                      type: object
                    localService:
                      properties:
                        forceEnableLocalService:
                          type: boolean
                        nameOverride:
                          type: string
                      type: object
                    logLevel:
                      type: string
                    namespaceAnnotationsAsTags:
                      additionalProperties:
                        type: string
                      type: object
                    namespaceLabelsAsTags:
                      additionalProperties:
                        type: string
                      type: object
                    networkPolicy:
                      properties:
                        create:
                          type: boolean
                        dnsSelectorEndpoints:
                          items:
                            properties:
                              matchExpressions:
                                items:
                                  properties:
                                    key:
                                      type: string
                                    operator:
                                      type: string
                                    values:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                  required:
                                    - key
                                    - operator
                                  type: object
                                type: array
                                x-kubernetes-list-type: atomic
                              matchLabels:
                                additionalProperties:
                                  type: string
                                type: object
                            type: object
                            x-kubernetes-map-type: atomic
                          type: array
                          x-kubernetes-list-type: atomic
                        flavor:
                          type: string
                      type: object
                    nodeLabelsAsTags:
                      additionalProperties:
                        type: string
                      type: object
                    originDetectionUnified:
                      properties:
                        enabled:
                          type: boolean
                      type: object
                    podAnnotationsAsTags:
                      additionalProperties:
                        type: string
                      type: object
                    podLabelsAsTags:
                      additionalProperties:
                        type: string
                      type: object
                    registry:
                      type: string
                    runProcessChecksInCoreAgent:
                      type: boolean
                    secretBackend:
                      properties:
                        args:
                          type: string
                        command:
                          type: string
                        enableGlobalPermissions:
                          type: boolean
                        refreshInterval:
                          format: int32
                          type: integer
                        roles:
                          items:
                            properties:
                              namespace:
                                type: string
                              secrets:
                                items:
                                  type: string
                                type: array
                                x-kubernetes-list-type: set
                            required:
                              - namespace
                              - secrets
                            type: object
                          type: array
                          x-kubernetes-list-type: atomic
                        timeout:
                          format: int32
                          type: integer
                      type: object
                    site:
                      type: string
                    tags:
                      items:
                        type: string
                      type: array
                      x-kubernetes-list-type: set
                    useFIPSAgent:
                      type: boolean
                  type: object
                override:
                  additionalProperties:
                    properties:
                      affinity:
                        properties:
                          nodeAffinity:
                            properties:
                              preferredDuringSchedulingIgnoredDuringExecution:
                                items:
                                  properties:
                                    preference:
                                      properties:
                                        matchExpressions:
                                          items:
                                            properties:
                                              key:
                                                type: string
                                              operator:
                                                type: string
                                              values:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                              - key
                                              - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchFields:
                                          items:
                                            properties:
                                              key:
                                                type: string
                                              operator:
                                                type: string
                                              values:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                              - key
                                              - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    weight:
                                      format: int32
                                      type: integer
                                  required:
                                    - preference
                                    - weight
                                  type: object
                                type: array
                                x-kubernetes-list-type: atomic
                              requiredDuringSchedulingIgnoredDuringExecution:
                                properties:
                                  nodeSelectorTerms:
                                    items:
                                      properties:
                                        matchExpressions:
                                          items:
                                            properties:
                                              key:
                                                type: string
                                              operator:
                                                type: string
                                              values:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                              - key
                                              - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchFields:
                                          items:
                                            properties:
                                              key:
                                                type: string
                                              operator:
                                                type: string
                                              values:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                              - key
                                              - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                  - nodeSelectorTerms
                                type: object
                                x-kubernetes-map-type: atomic
                            type: object
                          podAffinity:
                            properties:
                              preferredDuringSchedulingIgnoredDuringExecution:
                                items:
                                  properties:
                                    podAffinityTerm:
                                      properties:
                                        labelSelector:
                                          properties:
                                            matchExpressions:
                                              items:
                                                properties:
                                                  key:
                                                    type: string
                                                  operator:
                                                    type: string
                                                  values:
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                  - key
                                                  - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              type: object
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        matchLabelKeys:
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        mismatchLabelKeys:
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        namespaceSelector:
                                          properties:
                                            matchExpressions:
                                              items:
                                                properties:
                                                  key:
                                                    type: string
                                                  operator:
                                                    type: string
                                                  values:
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                  - key
                                                  - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              type: object
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        namespaces:
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        topologyKey:
                                          type: string
                                      required:
                                        - topologyKey
                                      type: object
                                    weight:
                                      format: int32
                                      type: integer
                                  required:
                                    - podAffinityTerm
                                    - weight
                                  type: object
                                type: array
                                x-kubernetes-list-type: atomic
                              requiredDuringSchedulingIgnoredDuringExecution:
                                items:
                                  properties:
                                    labelSelector:
                                      properties:
                                        matchExpressions:
                                          items:
                                            properties:
                                              key:
                                                type: string
                                              operator:
                                                type: string
                                              values:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                              - key
                                              - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    matchLabelKeys:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    mismatchLabelKeys:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    namespaceSelector:
                                      properties:
                                        matchExpressions:
                                          items:
                                            properties:
                                              key:
                                                type: string
                                              operator:
                                                type: string
                                              values:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                              - key
                                              - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    namespaces:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    topologyKey:
                                      type: string
                                  required:
                                    - topologyKey
                                  type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            type: object
                          podAntiAffinity:
                            properties:
                              preferredDuringSchedulingIgnoredDuringExecution:
                                items:
                                  properties:
                                    podAffinityTerm:
                                      properties:
                                        labelSelector:
                                          properties:
                                            matchExpressions:
                                              items:
                                                properties:
                                                  key:
                                                    type: string
                                                  operator:
                                                    type: string
                                                  values:
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                  - key
                                                  - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              type: object
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        matchLabelKeys:
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        mismatchLabelKeys:
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        namespaceSelector:
                                          properties:
                                            matchExpressions:
                                              items:
                                                properties:
                                                  key:
                                                    type: string
                                                  operator:
                                                    type: string
                                                  values:
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                  - key
                                                  - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              type: object
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        namespaces:
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        topologyKey:
                                          type: string
                                      required:
                                        - topologyKey
                                      type: object
                                    weight:
                                      format: int32
                                      type: integer
                                  required:
                                    - podAffinityTerm
                                    - weight
                                  type: object
                                type: array
                                x-kubernetes-list-type: atomic
                              requiredDuringSchedulingIgnoredDuringExecution:
                                items:
                                  properties:
                                    labelSelector:
                                      properties:
                                        matchExpressions:
                                          items:
                                            properties:
                                              key:
                                                type: string
                                              operator:
                                                type: string
                                              values:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                              - key
                                              - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    matchLabelKeys:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    mismatchLabelKeys:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    namespaceSelector:
                                      properties:
                                        matchExpressions:
                                          items:
                                            properties:
                                              key:
                                                type: string
                                              operator:
                                                type: string
                                              values:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                              - key
                                              - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    namespaces:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    topologyKey:
                                      type: string
                                  required:
                                    - topologyKey
                                  type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            type: object
                        type: object
                      annotations:
                        additionalProperties:
                          type: string
                        type: object
                      containers:
                        additionalProperties:
                          properties:
                            appArmorProfileName:
                              type: string
                            args:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            command:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            env:
                              items:
                                properties:
                                  name:
                                    type: string
                                  value:
                                    type: string
                                  valueFrom:
                                    properties:
                                      configMapKeyRef:
                                        properties:
                                          key:
                                            type: string
                                          name:
                                            default: ""
                                            type: string
                                          optional:
                                            type: boolean
                                        required:
                                          - key
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      fieldRef:
                                        properties:
                                          apiVersion:
                                            type: string
                                          fieldPath:
                                            type: string
                                        required:
                                          - fieldPath
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      resourceFieldRef:
                                        properties:
                                          containerName:
                                            type: string
                                          divisor:
                                            anyOf:
                                              - type: integer
                                              - type: string
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                          resource:
                                            type: string
                                        required:
                                          - resource
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      secretKeyRef:
                                        properties:
                                          key:
                                            type: string
                                          name:
                                            default: ""
                                            type: string
                                          optional:
                                            type: boolean
                                        required:
                                          - key
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    type: object
                                required:
                                  - name
                                type: object
                              type: array
                              x-kubernetes-list-map-keys:
                                - name
                              x-kubernetes-list-type: map
                            healthPort:
                              format: int32
                              type: integer
                            livenessProbe:
                              properties:
                                exec:
                                  properties:
                                    command:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                  type: object
                                failureThreshold:
                                  format: int32
                                  type: integer
                                grpc:
                                  properties:
                                    port:
                                      format: int32
                                      type: integer
                                    service:
                                      default: ""
                                      type: string
                                  required:
                                    - port
                                  type: object
                                httpGet:
                                  properties:
                                    host:
                                      type: string
                                    httpHeaders:
                                      items:
                                        properties:
                                          name:
                                            type: string
                                          value:
                                            type: string
                                        required:
                                          - name
                                          - value
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    path:
                                      type: string
                                    port:
                                      anyOf:
                                        - type: integer
                                        - type: string
                                      x-kubernetes-int-or-string: true
                                    scheme:
                                      type: string
                                  required:
                                    - port
                                  type: object
                                initialDelaySeconds:
                                  format: int32
                                  type: integer
                                periodSeconds:
                                  format: int32
                                  type: integer
                                successThreshold:
                                  format: int32
                                  type: integer
                                tcpSocket:
                                  properties:
                                    host:
                                      type: string
                                    port:
                                      anyOf:
                                        - type: integer
                                        - type: string
                                      x-kubernetes-int-or-string: true
                                  required:
                                    - port
                                  type: object
                                terminationGracePeriodSeconds:
                                  format: int64
                                  type: integer
                                timeoutSeconds:
                                  format: int32
                                  type: integer
                              type: object
                            logLevel:
                              type: string
                            name:
                              type: string
                            ports:
                              items:
                                properties:
                                  containerPort:
                                    format: int32
                                    type: integer
                                  hostIP:
                                    type: string
                                  hostPort:
                                    format: int32
                                    type: integer
                                  name:
                                    type: string
                                  protocol:
                                    default: TCP
                                    type: string
                                required:
                                  - containerPort
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            readinessProbe:
                              properties:
                                exec:
                                  properties:
                                    command:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                  type: object
                                failureThreshold:
                                  format: int32
                                  type: integer
                                grpc:
                                  properties:
                                    port:
                                      format: int32
                                      type: integer
                                    service:
                                      default: ""
                                      type: string
                                  required:
                                    - port
                                  type: object
                                httpGet:
                                  properties:
                                    host:
                                      type: string
                                    httpHeaders:
                                      items:
                                        properties:
                                          name:
                                            type: string
                                          value:
                                            type: string
                                        required:
                                          - name
                                          - value
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    path:
                                      type: string
                                    port:
                                      anyOf:
                                        - type: integer
                                        - type: string
                                      x-kubernetes-int-or-string: true
                                    scheme:
                                      type: string
                                  required:
                                    - port
                                  type: object
                                initialDelaySeconds:
                                  format: int32
                                  type: integer
                                periodSeconds:
                                  format: int32
                                  type: integer
                                successThreshold:
                                  format: int32
                                  type: integer
                                tcpSocket:
                                  properties:
                                    host:
                                      type: string
                                    port:
                                      anyOf:
                                        - type: integer
                                        - type: string
                                      x-kubernetes-int-or-string: true
                                  required:
                                    - port
                                  type: object
                                terminationGracePeriodSeconds:
                                  format: int64
                                  type: integer
                                timeoutSeconds:
                                  format: int32
                                  type: integer
                              type: object
                            resources:
                              properties:
                                claims:
                                  items:
                                    properties:
                                      name:
                                        type: string
                                      request:
                                        type: string
                                    required:
                                      - name
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                    - name
                                  x-kubernetes-list-type: map
                                limits:
                                  additionalProperties:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type: object
                                requests:
                                  additionalProperties:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type: object
                              type: object
                            seccompConfig:
                              properties:
                                customProfile:
                                  properties:
                                    configData:
                                      type: string
                                    configMap:
                                      properties:
                                        items:
                                          items:
                                            properties:
                                              key:
                                                type: string
                                              mode:
                                                format: int32
                                                type: integer
                                              path:
                                                type: string
                                            required:
                                              - key
                                              - path
                                            type: object
                                          type: array
                                          x-kubernetes-list-map-keys:
                                            - key
                                          x-kubernetes-list-type: map
                                        name:
                                          type: string
                                      type: object
                                  type: object
                                customRootPath:
                                  type: string
                              type: object
                            securityContext:
                              properties:
                                allowPrivilegeEscalation:
                                  type: boolean
                                appArmorProfile:
                                  properties:
                                    localhostProfile:
                                      type: string
                                    type:
                                      type: string
                                  required:
                                    - type
                                  type: object
                                capabilities:
                                  properties:
                                    add:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    drop:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                  type: object
                                privileged:
                                  type: boolean
                                procMount:
                                  type: string
                                readOnlyRootFilesystem:
                                  type: boolean
                                runAsGroup:
                                  format: int64
                                  type: integer
                                runAsNonRoot:
                                  type: boolean
                                runAsUser:
                                  format: int64
                                  type: integer
                                seLinuxOptions:
                                  properties:
                                    level:
                                      type: string
                                    role:
                                      type: string
                                    type:
                                      type: string
                                    user:
                                      type: string
                                  type: object
                                seccompProfile:
                                  properties:
                                    localhostProfile:
                                      type: string
                                    type:
                                      type: string
                                  required:
                                    - type
                                  type: object
                                windowsOptions:
                                  properties:
                                    gmsaCredentialSpec:
                                      type: string
                                    gmsaCredentialSpecName:
                                      type: string
                                    hostProcess:
                                      type: boolean
                                    runAsUserName:
                                      type: string
                                  type: object
                              type: object
                            startupProbe:
                              properties:
                                exec:
                                  properties:
                                    command:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                  type: object
                                failureThreshold:
                                  format: int32
                                  type: integer
                                grpc:
                                  properties:
                                    port:
                                      format: int32
                                      type: integer
                                    service:
                                      default: ""
                                      type: string
                                  required:
                                    - port
                                  type: object
                                httpGet:
                                  properties:
                                    host:
                                      type: string
                                    httpHeaders:
                                      items:
                                        properties:
                                          name:
                                            type: string
                                          value:
                                            type: string
                                        required:
                                          - name
                                          - value
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    path:
                                      type: string
                                    port:
                                      anyOf:
                                        - type: integer
                                        - type: string
                                      x-kubernetes-int-or-string: true
                                    scheme:
                                      type: string
                                  required:
                                    - port
                                  type: object
                                initialDelaySeconds:
                                  format: int32
                                  type: integer
                                periodSeconds:
                                  format: int32
                                  type: integer
                                successThreshold:
                                  format: int32
                                  type: integer
                                tcpSocket:
                                  properties:
                                    host:
                                      type: string
                                    port:
                                      anyOf:
                                        - type: integer
                                        - type: string
                                      x-kubernetes-int-or-string: true
                                  required:
                                    - port
                                  type: object
                                terminationGracePeriodSeconds:
                                  format: int64
                                  type: integer
                                timeoutSeconds:
                                  format: int32
                                  type: integer
                              type: object
                            volumeMounts:
                              items:
                                properties:
                                  mountPath:
                                    type: string
                                  mountPropagation:
                                    type: string
                                  name:
                                    type: string
                                  readOnly:
                                    type: boolean
                                  recursiveReadOnly:
                                    type: string
                                  subPath:
                                    type: string
                                  subPathExpr:
                                    type: string
                                required:
                                  - mountPath
                                  - name
                                type: object
                              type: array
                              x-kubernetes-list-map-keys:
                                - name
                                - mountPath
                              x-kubernetes-list-type: map
                          type: object
                        type: object
                      createPodDisruptionBudget:
                        type: boolean
                      createRbac:
                        type: boolean
                      customConfigurations:
                        additionalProperties:
                          properties:
                            configData:
                              type: string
                            configMap:
                              properties:
                                items:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                    required:
                                      - key
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                    - key
                                  x-kubernetes-list-type: map
                                name:
                                  type: string
                              type: object
                          type: object
                        type: object
                      disabled:
                        type: boolean
                      dnsConfig:
                        properties:
                          nameservers:
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                          options:
                            items:
                              properties:
                                name:
                                  type: string
                                value:
                                  type: string
                              type: object
                            type: array
                            x-kubernetes-list-type: atomic
                          searches:
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                        type: object
                      dnsPolicy:
                        type: string
                      env:
                        items:
                          properties:
                            name:
                              type: string
                            value:
                              type: string
                            valueFrom:
                              properties:
                                configMapKeyRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      default: ""
                                      type: string
                                    optional:
                                      type: boolean
                                  required:
                                    - key
                                  type: object
                                  x-kubernetes-map-type: atomic
                                fieldRef:
                                  properties:
                                    apiVersion:
                                      type: string
                                    fieldPath:
                                      type: string
                                  required:
                                    - fieldPath
                                  type: object
                                  x-kubernetes-map-type: atomic
                                resourceFieldRef:
                                  properties:
                                    containerName:
                                      type: string
                                    divisor:
                                      anyOf:
                                        - type: integer
                                        - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      type: string
                                  required:
                                    - resource
                                  type: object
                                  x-kubernetes-map-type: atomic
                                secretKeyRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      default: ""
                                      type: string
                                    optional:
                                      type: boolean
                                  required:
                                    - key
                                  type: object
                                  x-kubernetes-map-type: atomic
                              type: object
                          required:
                            - name
                          type: object
                        type: array
                        x-kubernetes-list-map-keys:
                          - name
                        x-kubernetes-list-type: map
                      envFrom:
                        items:
                          properties:
                            configMapRef:
                              properties:
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              type: object
                              x-kubernetes-map-type: atomic
                            prefix:
                              type: string
                            secretRef:
                              properties:
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              type: object
                              x-kubernetes-map-type: atomic
                          type: object
                        type: array
                      extraChecksd:
                        properties:
                          configDataMap:
                            additionalProperties:
                              type: string
                            type: object
                          configMap:
                            properties:
                              items:
                                items:
                                  properties:
                                    key:
                                      type: string
                                    mode:
                                      format: int32
                                      type: integer
                                    path:
                                      type: string
                                  required:
                                    - key
                                    - path
                                  type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                  - key
                                x-kubernetes-list-type: map
                              name:
                                type: string
                            type: object
                        type: object
                      extraConfd:
                        properties:
                          configDataMap:
                            additionalProperties:
                              type: string
                            type: object
                          configMap:
                            properties:
                              items:
                                items:
                                  properties:
                                    key:
                                      type: string
                                    mode:
                                      format: int32
                                      type: integer
                                    path:
                                      type: string
                                  required:
                                    - key
                                    - path
                                  type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                  - key
                                x-kubernetes-list-type: map
                              name:
                                type: string
                            type: object
                        type: object
                      hostNetwork:
                        type: boolean
                      hostPID:
                        type: boolean
                      image:
                        properties:
                          jmxEnabled:
                            type: boolean
                          name:
                            type: string
                          pullPolicy:
                            type: string
                          pullSecrets:
                            items:
                              properties:
                                name:
                                  default: ""
                                  type: string
                              type: object
                              x-kubernetes-map-type: atomic
                            type: array
                          tag:
                            type: string
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        type: object
                        x-kubernetes-map-type: granular
                      name:
                        type: string
                      nodeSelector:
                        additionalProperties:
                          type: string
                        type: object
                      priorityClassName:
                        type: string
                      replicas:
                        format: int32
                        type: integer
                      runtimeClassName:
                        type: string
                      securityContext:
                        properties:
                          appArmorProfile:
                            properties:
                              localhostProfile:
                                type: string
                              type:
                                type: string
                            required:
                              - type
                            type: object
                          fsGroup:
                            format: int64
                            type: integer
                          fsGroupChangePolicy:
                            type: string
                          runAsGroup:
                            format: int64
                            type: integer
                          runAsNonRoot:
                            type: boolean
                          runAsUser:
                            format: int64
                            type: integer
                          seLinuxChangePolicy:
                            type: string
                          seLinuxOptions:
                            properties:
                              level:
                                type: string
                              role:
                                type: string
                              type:
                                type: string
                              user:
                                type: string
                            type: object
                          seccompProfile:
                            properties:
                              localhostProfile:
                                type: string
                              type:
                                type: string
                            required:
                              - type
                            type: object
                          supplementalGroups:
                            items:
                              format: int64
                              type: integer
                            type: array
                            x-kubernetes-list-type: atomic
                          supplementalGroupsPolicy:
                            type: string
                          sysctls:
                            items:
                              properties:
                                name:
                                  type: string
                                value:
                                  type: string
                              required:
                                - name
                                - value
                              type: object
                            type: array
                            x-kubernetes-list-type: atomic
                          windowsOptions:
                            properties:
                              gmsaCredentialSpec:
                                type: string
                              gmsaCredentialSpecName:
                                type: string
                              hostProcess:
                                type: boolean
                              runAsUserName:
                                type: string
                            type: object
                        type: object
                      serviceAccountAnnotations:
                        additionalProperties:
                          type: string
                        type: object
                      serviceAccountName:
                        type: string
                      tolerations:
                        items:
                          properties:
                            effect:
                              type: string
                            key:
                              type: string
                            operator:
                              type: string
                            tolerationSeconds:
                              format: int64
                              type: integer
                            value:
                              type: string
                          type: object
                        type: array
                        x-kubernetes-list-type: atomic
                      topologySpreadConstraints:
                        items:
                          properties:
                            labelSelector:
                              properties:
                                matchExpressions:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      operator:
                                        type: string
                                      values:
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                      - key
                                      - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            matchLabelKeys:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            maxSkew:
                              format: int32
                              type: integer
                            minDomains:
                              format: int32
                              type: integer
                            nodeAffinityPolicy:
                              type: string
                            nodeTaintsPolicy:
                              type: string
                            topologyKey:
                              type: string
                            whenUnsatisfiable:
                              type: string
                          required:
                            - maxSkew
                            - topologyKey
                            - whenUnsatisfiable
                          type: object
                        type: array
                        x-kubernetes-list-map-keys:
                          - topologyKey
                          - whenUnsatisfiable
                        x-kubernetes-list-type: map
                      updateStrategy:
                        properties:
                          rollingUpdate:
                            properties:
                              maxSurge:
                                anyOf:
                                  - type: integer
                                  - type: string
                                x-kubernetes-int-or-string: true
                              maxUnavailable:
                                anyOf:
                                  - type: integer
                                  - type: string
                                x-kubernetes-int-or-string: true
                            type: object
                          type:
                            type: string
                        type: object
                      volumes:
                        items:
                          properties:
                            awsElasticBlockStore:
                              properties:
                                fsType:
                                  type: string
                                partition:
                                  format: int32
                                  type: integer
                                readOnly:
                                  type: boolean
                                volumeID:
                                  type: string
                              required:
                                - volumeID
                              type: object
                            azureDisk:
                              properties:
                                cachingMode:
                                  type: string
                                diskName:
                                  type: string
                                diskURI:
                                  type: string
                                fsType:
                                  default: ext4
                                  type: string
                                kind:
                                  type: string
                                readOnly:
                                  default: false
                                  type: boolean
                              required:
                                - diskName
                                - diskURI
                              type: object
                            azureFile:
                              properties:
                                readOnly:
                                  type: boolean
                                secretName:
                                  type: string
                                shareName:
                                  type: string
                              required:
                                - secretName
                                - shareName
                              type: object
                            cephfs:
                              properties:
                                monitors:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                path:
                                  type: string
                                readOnly:
                                  type: boolean
                                secretFile:
                                  type: string
                                secretRef:
                                  properties:
                                    name:
                                      default: ""
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                user:
                                  type: string
                              required:
                                - monitors
                              type: object
                            cinder:
                              properties:
                                fsType:
                                  type: string
                                readOnly:
                                  type: boolean
                                secretRef:
                                  properties:
                                    name:
                                      default: ""
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                volumeID:
                                  type: string
                              required:
                                - volumeID
                              type: object
                            configMap:
                              properties:
                                defaultMode:
                                  format: int32
                                  type: integer
                                items:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                    required:
                                      - key
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              type: object
                              x-kubernetes-map-type: atomic
                            csi:
                              properties:
                                driver:
                                  type: string
                                fsType:
                                  type: string
                                nodePublishSecretRef:
                                  properties:
                                    name:
                                      default: ""
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                readOnly:
                                  type: boolean
                                volumeAttributes:
                                  additionalProperties:
                                    type: string
                                  type: object
                              required:
                                - driver
                              type: object
                            downwardAPI:
                              properties:
                                defaultMode:
                                  format: int32
                                  type: integer
                                items:
                                  items:
                                    properties:
                                      fieldRef:
                                        properties:
                                          apiVersion:
                                            type: string
                                          fieldPath:
                                            type: string
                                        required:
                                          - fieldPath
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                      resourceFieldRef:
                                        properties:
                                          containerName:
                                            type: string
                                          divisor:
                                            anyOf:
                                              - type: integer
                                              - type: string
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                          resource:
                                            type: string
                                        required:
                                          - resource
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    required:
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            emptyDir:
                              properties:
                                medium:
                                  type: string
                                sizeLimit:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                              type: object
                            ephemeral:
                              properties:
                                volumeClaimTemplate:
                                  properties:
                                    metadata:
                                      type: object
                                    spec:
                                      properties:
                                        accessModes:
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        dataSource:
                                          properties:
                                            apiGroup:
                                              type: string
                                            kind:
                                              type: string
                                            name:
                                              type: string
                                          required:
                                            - kind
                                            - name
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        dataSourceRef:
                                          properties:
                                            apiGroup:
                                              type: string
                                            kind:
                                              type: string
                                            name:
                                              type: string
                                            namespace:
                                              type: string
                                          required:
                                            - kind
                                            - name
                                          type: object
                                        resources:
                                          properties:
                                            limits:
                                              additionalProperties:
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              type: object
                                            requests:
                                              additionalProperties:
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              type: object
                                          type: object
                                        selector:
                                          properties:
                                            matchExpressions:
                                              items:
                                                properties:
                                                  key:
                                                    type: string
                                                  operator:
                                                    type: string
                                                  values:
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                  - key
                                                  - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              type: object
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        storageClassName:
                                          type: string
                                        volumeAttributesClassName:
                                          type: string
                                        volumeMode:
                                          type: string
                                        volumeName:
                                          type: string
                                      type: object
                                  required:
                                    - spec
                                  type: object
                              type: object
                            fc:
                              properties:
                                fsType:
                                  type: string
                                lun:
                                  format: int32
                                  type: integer
                                readOnly:
                                  type: boolean
                                targetWWNs:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                wwids:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            flexVolume:
                              properties:
                                driver:
                                  type: string
                                fsType:
                                  type: string
                                options:
                                  additionalProperties:
                                    type: string
                                  type: object
                                readOnly:
                                  type: boolean
                                secretRef:
                                  properties:
                                    name:
                                      default: ""
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                              required:
                                - driver
                              type: object
                            flocker:
                              properties:
                                datasetName:
                                  type: string
                                datasetUUID:
                                  type: string
                              type: object
                            gcePersistentDisk:
                              properties:
                                fsType:
                                  type: string
                                partition:
                                  format: int32
                                  type: integer
                                pdName:
                                  type: string
                                readOnly:
                                  type: boolean
                              required:
                                - pdName
                              type: object
                            gitRepo:
                              properties:
                                directory:
                                  type: string
                                repository:
                                  type: string
                                revision:
                                  type: string
                              required:
                                - repository
                              type: object
                            glusterfs:
                              properties:
                                endpoints:
                                  type: string
                                path:
                                  type: string
                                readOnly:
                                  type: boolean
                              required:
                                - endpoints
                                - path
                              type: object
                            hostPath:
                              properties:
                                path:
                                  type: string
                                type:
                                  type: string
                              required:
                                - path
                              type: object
                            image:
                              properties:
                                pullPolicy:
                                  type: string
                                reference:
                                  type: string
                              type: object
                            iscsi:
                              properties:
                                chapAuthDiscovery:
                                  type: boolean
                                chapAuthSession:
                                  type: boolean
                                fsType:
                                  type: string
                                initiatorName:
                                  type: string
                                iqn:
                                  type: string
                                iscsiInterface:
                                  default: default
                                  type: string
                                lun:
                                  format: int32
                                  type: integer
                                portals:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                readOnly:
                                  type: boolean
                                secretRef:
                                  properties:
                                    name:
                                      default: ""
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                targetPortal:
                                  type: string
                              required:
                                - iqn
                                - lun
                                - targetPortal
                              type: object
                            name:
                              type: string
                            nfs:
                              properties:
                                path:
                                  type: string
                                readOnly:
                                  type: boolean
                                server:
                                  type: string
                              required:
                                - path
                                - server
                              type: object
                            persistentVolumeClaim:
                              properties:
                                claimName:
                                  type: string
                                readOnly:
                                  type: boolean
                              required:
                                - claimName
                              type: object
                            photonPersistentDisk:
                              properties:
                                fsType:
                                  type: string
                                pdID:
                                  type: string
                              required:
                                - pdID
                              type: object
                            portworxVolume:
                              properties:
                                fsType:
                                  type: string
                                readOnly:
                                  type: boolean
                                volumeID:
                                  type: string
                              required:
                                - volumeID
                              type: object
                            projected:
                              properties:
                                defaultMode:
                                  format: int32
                                  type: integer
                                sources:
                                  items:
                                    properties:
                                      clusterTrustBundle:
                                        properties:
                                          labelSelector:
                                            properties:
                                              matchExpressions:
                                                items:
                                                  properties:
                                                    key:
                                                      type: string
                                                    operator:
                                                      type: string
                                                    values:
                                                      items:
                                                        type: string
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                  required:
                                                    - key
                                                    - operator
                                                  type: object
                                                type: array
                                                x-kubernetes-list-type: atomic
                                              matchLabels:
                                                additionalProperties:
                                                  type: string
                                                type: object
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          name:
                                            type: string
                                          optional:
                                            type: boolean
                                          path:
                                            type: string
                                          signerName:
                                            type: string
                                        required:
                                          - path
                                        type: object
                                      configMap:
                                        properties:
                                          items:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                mode:
                                                  format: int32
                                                  type: integer
                                                path:
                                                  type: string
                                              required:
                                                - key
                                                - path
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          name:
                                            default: ""
                                            type: string
                                          optional:
                                            type: boolean
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      downwardAPI:
                                        properties:
                                          items:
                                            items:
                                              properties:
                                                fieldRef:
                                                  properties:
                                                    apiVersion:
                                                      type: string
                                                    fieldPath:
                                                      type: string
                                                  required:
                                                    - fieldPath
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                mode:
                                                  format: int32
                                                  type: integer
                                                path:
                                                  type: string
                                                resourceFieldRef:
                                                  properties:
                                                    containerName:
                                                      type: string
                                                    divisor:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    resource:
                                                      type: string
                                                  required:
                                                    - resource
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                              required:
                                                - path
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        type: object
                                      secret:
                                        properties:
                                          items:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                mode:
                                                  format: int32
                                                  type: integer
                                                path:
                                                  type: string
                                              required:
                                                - key
                                                - path
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          name:
                                            default: ""
                                            type: string
                                          optional:
                                            type: boolean
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      serviceAccountToken:
                                        properties:
                                          audience:
                                            type: string
                                          expirationSeconds:
                                            format: int64
                                            type: integer
                                          path:
                                            type: string
                                        required:
                                          - path
                                        type: object
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            quobyte:
                              properties:
                                group:
                                  type: string
                                readOnly:
                                  type: boolean
                                registry:
                                  type: string
                                tenant:
                                  type: string
                                user:
                                  type: string
                                volume:
                                  type: string
                              required:
                                - registry
                                - volume
                              type: object
                            rbd:
                              properties:
                                fsType:
                                  type: string
                                image:
                                  type: string
                                keyring:
                                  default: /etc/ceph/keyring
                                  type: string
                                monitors:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                pool:
                                  default: rbd
                                  type: string
                                readOnly:
                                  type: boolean
                                secretRef:
                                  properties:
                                    name:
                                      default: ""
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                user:
                                  default: admin
                                  type: string
                              required:
                                - image
                                - monitors
                              type: object
                            scaleIO:
                              properties:
                                fsType:
                                  default: xfs
                                  type: string
                                gateway:
                                  type: string
                                protectionDomain:
                                  type: string
                                readOnly:
                                  type: boolean
                                secretRef:
                                  properties:
                                    name:
                                      default: ""
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                sslEnabled:
                                  type: boolean
                                storageMode:
                                  default: ThinProvisioned
                                  type: string
                                storagePool:
                                  type: string
                                system:
                                  type: string
                                volumeName:
                                  type: string
                              required:
                                - gateway
                                - secretRef
                                - system
                              type: object
                            secret:
                              properties:
                                defaultMode:
                                  format: int32
                                  type: integer
                                items:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      mode:
                                        format: int32
                                        type: integer
                                      path:
                                        type: string
                                    required:
                                      - key
                                      - path
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                optional:
                                  type: boolean
                                secretName:
                                  type: string
                              type: object
                            storageos:
                              properties:
                                fsType:
                                  type: string
                                readOnly:
                                  type: boolean
                                secretRef:
                                  properties:
                                    name:
                                      default: ""
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                volumeName:
                                  type: string
                                volumeNamespace:
                                  type: string
                              type: object
                            vsphereVolume:
                              properties:
                                fsType:
                                  type: string
                                storagePolicyID:
                                  type: string
                                storagePolicyName:
                                  type: string
                                volumePath:
                                  type: string
                              required:
                                - volumePath
                              type: object
                          required:
                            - name
                          type: object
                        type: array
                        x-kubernetes-list-map-keys:
                          - name
                        x-kubernetes-list-type: map
                    type: object
                  type: object
              type: object
            status:
              properties:
                agent:
                  properties:
                    available:
                      format: int32
                      type: integer
                    current:
                      format: int32
                      type: integer
                    currentHash:
                      type: string
                    daemonsetName:
                      type: string
                    desired:
                      format: int32
                      type: integer
                    lastUpdate:
                      format: date-time
                      type: string
                    ready:
                      format: int32
                      type: integer
                    state:
                      type: string
                    status:
                      type: string
                    upToDate:
                      format: int32
                      type: integer
                  required:
                    - available
                    - current
                    - desired
                    - ready
                    - upToDate
                  type: object
                agentList:
                  items:
                    properties:
                      available:
                        format: int32
                        type: integer
                      current:
                        format: int32
                        type: integer
                      currentHash:
                        type: string
                      daemonsetName:
                        type: string
                      desired:
                        format: int32
                        type: integer
                      lastUpdate:
                        format: date-time
                        type: string
                      ready:
                        format: int32
                        type: integer
                      state:
                        type: string
                      status:
                        type: string
                      upToDate:
                        format: int32
                        type: integer
                    required:
                      - available
                      - current
                      - desired
                      - ready
                      - upToDate
                    type: object
                  type: array
                  x-kubernetes-list-type: atomic
                clusterAgent:
                  properties:
                    availableReplicas:
                      format: int32
                      type: integer
                    currentHash:
                      type: string
                    deploymentName:
                      type: string
                    generatedToken:
                      type: string
                    lastUpdate:
                      format: date-time
                      type: string
                    readyReplicas:
                      format: int32
                      type: integer
                    replicas:
                      format: int32
                      type: integer
                    state:
                      type: string
                    status:
                      type: string
                    unavailableReplicas:
                      format: int32
                      type: integer
                    updatedReplicas:
                      format: int32
                      type: integer
                  type: object
                clusterChecksRunner:
                  properties:
                    availableReplicas:
                      format: int32
                      type: integer
                    currentHash:
                      type: string
                    deploymentName:
                      type: string
                    generatedToken:
                      type: string
                    lastUpdate:
                      format: date-time
                      type: string
                    readyReplicas:
                      format: int32
                      type: integer
                    replicas:
                      format: int32
                      type: integer
                    state:
                      type: string
                    status:
                      type: string
                    unavailableReplicas:
                      format: int32
                      type: integer
                    updatedReplicas:
                      format: int32
                      type: integer
                  type: object
                conditions:
                  items:
                    properties:
                      lastTransitionTime:
                        format: date-time
                        type: string
                      message:
                        maxLength: 32768
                        type: string
                      observedGeneration:
                        format: int64
                        minimum: 0
                        type: integer
                      reason:
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                        type: string
                      status:
                        enum:
                          - "True"
                          - "False"
                          - Unknown
                        type: string
                      type:
                        maxLength: 316
                        pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                        type: string
                    required:
                      - lastTransitionTime
                      - message
                      - reason
                      - status
                      - type
                    type: object
                  type: array
                  x-kubernetes-list-map-keys:
                    - type
                  x-kubernetes-list-type: map
                remoteConfigConfiguration:
                  properties:
                    features:
                      properties:
                        admissionController:
                          properties:
                            agentCommunicationMode:
                              type: string
                            agentSidecarInjection:
                              properties:
                                clusterAgentCommunicationEnabled:
                                  type: boolean
                                enabled:
                                  type: boolean
                                image:
                                  properties:
                                    jmxEnabled:
                                      type: boolean
                                    name:
                                      type: string
                                    pullPolicy:
                                      type: string
                                    pullSecrets:
                                      items:
                                        properties:
                                          name:
                                            default: ""
                                            type: string
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      type: array
                                    tag:
                                      type: string
                                  type: object
                                profiles:
                                  items:
                                    properties:
                                      env:
                                        items:
                                          properties:
                                            name:
                                              type: string
                                            value:
                                              type: string
                                            valueFrom:
                                              properties:
                                                configMapKeyRef:
                                                  properties:
                                                    key:
                                                      type: string
                                                    name:
                                                      default: ""
                                                      type: string
                                                    optional:
                                                      type: boolean
                                                  required:
                                                    - key
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                fieldRef:
                                                  properties:
                                                    apiVersion:
                                                      type: string
                                                    fieldPath:
                                                      type: string
                                                  required:
                                                    - fieldPath
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                resourceFieldRef:
                                                  properties:
                                                    containerName:
                                                      type: string
                                                    divisor:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    resource:
                                                      type: string
                                                  required:
                                                    - resource
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                secretKeyRef:
                                                  properties:
                                                    key:
                                                      type: string
                                                    name:
                                                      default: ""
                                                      type: string
                                                    optional:
                                                      type: boolean
                                                  required:
                                                    - key
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                              type: object
                                          required:
                                            - name
                                          type: object
                                        type: array
                                        x-kubernetes-list-map-keys:
                                          - name
                                        x-kubernetes-list-type: map
                                      resources:
                                        properties:
                                          claims:
                                            items:
                                              properties:
                                                name:
                                                  type: string
                                                request:
                                                  type: string
                                              required:
                                                - name
                                              type: object
                                            type: array
                                            x-kubernetes-list-map-keys:
                                              - name
                                            x-kubernetes-list-type: map
                                          limits:
                                            additionalProperties:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                            type: object
                                          requests:
                                            additionalProperties:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                            type: object
                                        type: object
                                      securityContext:
                                        properties:
                                          allowPrivilegeEscalation:
                                            type: boolean
                                          appArmorProfile:
                                            properties:
                                              localhostProfile:
                                                type: string
                                              type:
                                                type: string
                                            required:
                                              - type
                                            type: object
                                          capabilities:
                                            properties:
                                              add:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                              drop:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            type: object
                                          privileged:
                                            type: boolean
                                          procMount:
                                            type: string
                                          readOnlyRootFilesystem:
                                            type: boolean
                                          runAsGroup:
                                            format: int64
                                            type: integer
                                          runAsNonRoot:
                                            type: boolean
                                          runAsUser:
                                            format: int64
                                            type: integer
                                          seLinuxOptions:
                                            properties:
                                              level:
                                                type: string
                                              role:
                                                type: string
                                              type:
                                                type: string
                                              user:
                                                type: string
                                            type: object
                                          seccompProfile:
                                            properties:
                                              localhostProfile:
                                                type: string
                                              type:
                                                type: string
                                            required:
                                              - type
                                            type: object
                                          windowsOptions:
                                            properties:
                                              gmsaCredentialSpec:
                                                type: string
                                              gmsaCredentialSpecName:
                                                type: string
                                              hostProcess:
                                                type: boolean
                                              runAsUserName:
                                                type: string
                                            type: object
                                        type: object
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                provider:
                                  type: string
                                registry:
                                  type: string
                                selectors:
                                  items:
                                    properties:
                                      namespaceSelector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                operator:
                                                  type: string
                                                values:
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                                - key
                                                - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      objectSelector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                operator:
                                                  type: string
                                                values:
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                                - key
                                                - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            cwsInstrumentation:
                              properties:
                                enabled:
                                  type: boolean
                                mode:
                                  type: string
                              type: object
                            enabled:
                              type: boolean
                            failurePolicy:
                              type: string
                            kubernetesAdmissionEvents:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                            mutateUnlabelled:
                              type: boolean
                            mutation:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                            registry:
                              type: string
                            serviceName:
                              type: string
                            validation:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                            webhookName:
                              type: string
                          type: object
                        apm:
                          properties:
                            enabled:
                              type: boolean
                            errorTrackingStandalone:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                            hostPortConfig:
                              properties:
                                enabled:
                                  type: boolean
                                hostPort:
                                  format: int32
                                  type: integer
                              type: object
                            instrumentation:
                              properties:
                                disabledNamespaces:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: set
                                enabled:
                                  type: boolean
                                enabledNamespaces:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: set
                                injector:
                                  properties:
                                    imageTag:
                                      type: string
                                  type: object
                                languageDetection:
                                  properties:
                                    enabled:
                                      type: boolean
                                  type: object
                                libVersions:
                                  additionalProperties:
                                    type: string
                                  type: object
                                targets:
                                  items:
                                    properties:
                                      ddTraceConfigs:
                                        items:
                                          properties:
                                            name:
                                              type: string
                                            value:
                                              type: string
                                            valueFrom:
                                              properties:
                                                configMapKeyRef:
                                                  properties:
                                                    key:
                                                      type: string
                                                    name:
                                                      default: ""
                                                      type: string
                                                    optional:
                                                      type: boolean
                                                  required:
                                                    - key
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                fieldRef:
                                                  properties:
                                                    apiVersion:
                                                      type: string
                                                    fieldPath:
                                                      type: string
                                                  required:
                                                    - fieldPath
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                resourceFieldRef:
                                                  properties:
                                                    containerName:
                                                      type: string
                                                    divisor:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    resource:
                                                      type: string
                                                  required:
                                                    - resource
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                secretKeyRef:
                                                  properties:
                                                    key:
                                                      type: string
                                                    name:
                                                      default: ""
                                                      type: string
                                                    optional:
                                                      type: boolean
                                                  required:
                                                    - key
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                              type: object
                                          required:
                                            - name
                                          type: object
                                        type: array
                                        x-kubernetes-list-map-keys:
                                          - name
                                        x-kubernetes-list-type: map
                                      ddTraceVersions:
                                        additionalProperties:
                                          type: string
                                        type: object
                                      name:
                                        type: string
                                      namespaceSelector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                operator:
                                                  type: string
                                                values:
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                                - key
                                                - operator
                                              type: object
                                            type: array
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            type: object
                                          matchNames:
                                            items:
                                              type: string
                                            type: array
                                        type: object
                                      podSelector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                operator:
                                                  type: string
                                                values:
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                                - key
                                                - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    type: object
                                  type: array
                              type: object
                            unixDomainSocketConfig:
                              properties:
                                enabled:
                                  type: boolean
                                path:
                                  type: string
                              type: object
                          type: object
                        asm:
                          properties:
                            iast:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                            sca:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                            threats:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                          type: object
                        autoscaling:
                          properties:
                            workload:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                          type: object
                        clusterChecks:
                          properties:
                            enabled:
                              type: boolean
                            useClusterChecksRunners:
                              type: boolean
                          type: object
                        controlPlaneMonitoring:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        cspm:
                          properties:
                            checkInterval:
                              type: string
                            customBenchmarks:
                              properties:
                                configData:
                                  type: string
                                configMap:
                                  properties:
                                    items:
                                      items:
                                        properties:
                                          key:
                                            type: string
                                          mode:
                                            format: int32
                                            type: integer
                                          path:
                                            type: string
                                        required:
                                          - key
                                          - path
                                        type: object
                                      type: array
                                      x-kubernetes-list-map-keys:
                                        - key
                                      x-kubernetes-list-type: map
                                    name:
                                      type: string
                                  type: object
                              type: object
                            enabled:
                              type: boolean
                            hostBenchmarks:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                          type: object
                        cws:
                          properties:
                            customPolicies:
                              properties:
                                configData:
                                  type: string
                                configMap:
                                  properties:
                                    items:
                                      items:
                                        properties:
                                          key:
                                            type: string
                                          mode:
                                            format: int32
                                            type: integer
                                          path:
                                            type: string
                                        required:
                                          - key
                                          - path
                                        type: object
                                      type: array
                                      x-kubernetes-list-map-keys:
                                        - key
                                      x-kubernetes-list-type: map
                                    name:
                                      type: string
                                  type: object
                              type: object
                            directSendFromSystemProbe:
                              type: boolean
                            enabled:
                              type: boolean
                            network:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                            remoteConfiguration:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                            securityProfiles:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                            syscallMonitorEnabled:
                              type: boolean
                          type: object
                        dogstatsd:
                          properties:
                            hostPortConfig:
                              properties:
                                enabled:
                                  type: boolean
                                hostPort:
                                  format: int32
                                  type: integer
                              type: object
                            mapperProfiles:
                              properties:
                                configData:
                                  type: string
                                configMap:
                                  properties:
                                    items:
                                      items:
                                        properties:
                                          key:
                                            type: string
                                          mode:
                                            format: int32
                                            type: integer
                                          path:
                                            type: string
                                        required:
                                          - key
                                          - path
                                        type: object
                                      type: array
                                      x-kubernetes-list-map-keys:
                                        - key
                                      x-kubernetes-list-type: map
                                    name:
                                      type: string
                                  type: object
                              type: object
                            nonLocalTraffic:
                              type: boolean
                            originDetectionEnabled:
                              type: boolean
                            tagCardinality:
                              type: string
                            unixDomainSocketConfig:
                              properties:
                                enabled:
                                  type: boolean
                                path:
                                  type: string
                              type: object
                          type: object
                        ebpfCheck:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        eventCollection:
                          properties:
                            collectKubernetesEvents:
                              type: boolean
                            collectedEventTypes:
                              items:
                                properties:
                                  kind:
                                    type: string
                                  reasons:
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                  - kind
                                  - reasons
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            unbundleEvents:
                              type: boolean
                          type: object
                        externalMetricsServer:
                          properties:
                            enabled:
                              type: boolean
                            endpoint:
                              properties:
                                credentials:
                                  properties:
                                    apiKey:
                                      type: string
                                    apiSecret:
                                      properties:
                                        keyName:
                                          type: string
                                        secretName:
                                          type: string
                                      required:
                                        - secretName
                                      type: object
                                    appKey:
                                      type: string
                                    appSecret:
                                      properties:
                                        keyName:
                                          type: string
                                        secretName:
                                          type: string
                                      required:
                                        - secretName
                                      type: object
                                  type: object
                                url:
                                  type: string
                              type: object
                            port:
                              format: int32
                              type: integer
                            registerAPIService:
                              type: boolean
                            useDatadogMetrics:
                              type: boolean
                            wpaController:
                              type: boolean
                          type: object
                        gpu:
                          properties:
                            enabled:
                              type: boolean
                            patchCgroupPermissions:
                              type: boolean
                            privilegedMode:
                              type: boolean
                            requiredRuntimeClassName:
                              type: string
                          type: object
                        helmCheck:
                          properties:
                            collectEvents:
                              type: boolean
                            enabled:
                              type: boolean
                            valuesAsTags:
                              additionalProperties:
                                type: string
                              type: object
                          type: object
                        kubeStateMetricsCore:
                          properties:
                            conf:
                              properties:
                                configData:
                                  type: string
                                configMap:
                                  properties:
                                    items:
                                      items:
                                        properties:
                                          key:
                                            type: string
                                          mode:
                                            format: int32
                                            type: integer
                                          path:
                                            type: string
                                        required:
                                          - key
                                          - path
                                        type: object
                                      type: array
                                      x-kubernetes-list-map-keys:
                                        - key
                                      x-kubernetes-list-type: map
                                    name:
                                      type: string
                                  type: object
                              type: object
                            enabled:
                              type: boolean
                          type: object
                        liveContainerCollection:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        liveProcessCollection:
                          properties:
                            enabled:
                              type: boolean
                            scrubProcessArguments:
                              type: boolean
                            stripProcessArguments:
                              type: boolean
                          type: object
                        logCollection:
                          properties:
                            autoMultiLineDetection:
                              type: boolean
                            containerCollectAll:
                              type: boolean
                            containerCollectUsingFiles:
                              type: boolean
                            containerLogsPath:
                              type: string
                            containerSymlinksPath:
                              type: string
                            enabled:
                              type: boolean
                            openFilesLimit:
                              format: int32
                              type: integer
                            podLogsPath:
                              type: string
                            tempStoragePath:
                              type: string
                          type: object
                        npm:
                          properties:
                            collectDNSStats:
                              type: boolean
                            enableConntrack:
                              type: boolean
                            enabled:
                              type: boolean
                          type: object
                        oomKill:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        orchestratorExplorer:
                          properties:
                            conf:
                              properties:
                                configData:
                                  type: string
                                configMap:
                                  properties:
                                    items:
                                      items:
                                        properties:
                                          key:
                                            type: string
                                          mode:
                                            format: int32
                                            type: integer
                                          path:
                                            type: string
                                        required:
                                          - key
                                          - path
                                        type: object
                                      type: array
                                      x-kubernetes-list-map-keys:
                                        - key
                                      x-kubernetes-list-type: map
                                    name:
                                      type: string
                                  type: object
                              type: object
                            customResources:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: set
                            ddUrl:
                              type: string
                            enabled:
                              type: boolean
                            extraTags:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: set
                            scrubContainers:
                              type: boolean
                          type: object
                        otelCollector:
                          properties:
                            conf:
                              properties:
                                configData:
                                  type: string
                                configMap:
                                  properties:
                                    items:
                                      items:
                                        properties:
                                          key:
                                            type: string
                                          mode:
                                            format: int32
                                            type: integer
                                          path:
                                            type: string
                                        required:
                                          - key
                                          - path
                                        type: object
                                      type: array
                                      x-kubernetes-list-map-keys:
                                        - key
                                      x-kubernetes-list-type: map
                                    name:
                                      type: string
                                  type: object
                              type: object
                            coreConfig:
                              properties:
                                enabled:
                                  type: boolean
                                extensionTimeout:
                                  type: integer
                                extensionURL:
                                  type: string
                              type: object
                            enabled:
                              type: boolean
                            ports:
                              items:
                                properties:
                                  containerPort:
                                    format: int32
                                    type: integer
                                  hostIP:
                                    type: string
                                  hostPort:
                                    format: int32
                                    type: integer
                                  name:
                                    type: string
                                  protocol:
                                    default: TCP
                                    type: string
                                required:
                                  - containerPort
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                          type: object
                        otlp:
                          properties:
                            receiver:
                              properties:
                                protocols:
                                  properties:
                                    grpc:
                                      properties:
                                        enabled:
                                          type: boolean
                                        endpoint:
                                          type: string
                                        hostPortConfig:
                                          properties:
                                            enabled:
                                              type: boolean
                                            hostPort:
                                              format: int32
                                              type: integer
                                          type: object
                                      type: object
                                    http:
                                      properties:
                                        enabled:
                                          type: boolean
                                        endpoint:
                                          type: string
                                        hostPortConfig:
                                          properties:
                                            enabled:
                                              type: boolean
                                            hostPort:
                                              format: int32
                                              type: integer
                                          type: object
                                      type: object
                                  type: object
                              type: object
                          type: object
                        processDiscovery:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        prometheusScrape:
                          properties:
                            additionalConfigs:
                              type: string
                            enableServiceEndpoints:
                              type: boolean
                            enabled:
                              type: boolean
                            version:
                              type: integer
                          type: object
                        remoteConfiguration:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        sbom:
                          properties:
                            containerImage:
                              properties:
                                analyzers:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: set
                                enabled:
                                  type: boolean
                                overlayFSDirectScan:
                                  type: boolean
                                uncompressedLayersSupport:
                                  type: boolean
                              type: object
                            enabled:
                              type: boolean
                            host:
                              properties:
                                analyzers:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: set
                                enabled:
                                  type: boolean
                              type: object
                          type: object
                        serviceDiscovery:
                          properties:
                            enabled:
                              type: boolean
                            networkStats:
                              properties:
                                enabled:
                                  type: boolean
                              type: object
                          type: object
                        tcpQueueLength:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                        usm:
                          properties:
                            enabled:
                              type: boolean
                          type: object
                      type: object
                  type: object
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.3
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadogCRDs
  name: datadogmetrics.datadoghq.com
spec:
  group: datadoghq.com
  names:
    kind: DatadogMetric
    listKind: DatadogMetricList
    plural: datadogmetrics
    singular: datadogmetric
  scope: Namespaced
  versions:
    - additionalPrinterColumns:
        - jsonPath: .status.conditions[?(@.type=='Active')].status
          name: active
          type: string
        - jsonPath: .status.conditions[?(@.type=='Valid')].status
          name: valid
          type: string
        - jsonPath: .status.currentValue
          name: value
          type: string
        - jsonPath: .status.autoscalerReferences
          name: references
          type: string
        - jsonPath: .status.conditions[?(@.type=='Updated')].lastUpdateTime
          name: update time
          type: date
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: DatadogMetric allows autoscaling on arbitrary Datadog query
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: DatadogMetricSpec defines the desired state of DatadogMetric
              properties:
                externalMetricName:
                  description: ExternalMetricName is reserved for internal use
                  type: string
                maxAge:
                  description: |-
                    MaxAge provides the max age for the metric query (overrides the default setting
                    `external_metrics_provider.max_age`)
                  type: string
                query:
                  description: Query is the raw datadog query
                  type: string
                timeWindow:
                  description: TimeWindow provides the time window for the metric query, defaults to MaxAge.
                  type: string
              type: object
            status:
              description: DatadogMetricStatus defines the observed state of DatadogMetric
              properties:
                autoscalerReferences:
                  description: List of autoscalers currently using this DatadogMetric
                  type: string
                conditions:
                  description: Conditions Represents the latest available observations of a DatadogMetric's current state.
                  items:
                    description: DatadogMetricCondition describes the state of a DatadogMetric at a certain point.
                    properties:
                      lastTransitionTime:
                        description: Last time the condition transitioned from one status to another.
                        format: date-time
                        type: string
                      lastUpdateTime:
                        description: Last time the condition was updated.
                        format: date-time
                        type: string
                      message:
                        description: A human readable message indicating details about the transition.
                        type: string
                      reason:
                        description: The reason for the condition's last transition.
                        type: string
                      status:
                        description: Status of the condition, one of True, False, Unknown.
                        type: string
                      type:
                        description: Type of DatadogMetric condition.
                        type: string
                    required:
                      - status
                      - type
                    type: object
                  type: array
                  x-kubernetes-list-map-keys:
                    - type
                  x-kubernetes-list-type: map
                currentValue:
                  description: Value is the latest value of the metric
                  type: string
              required:
                - currentValue
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.3
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadogCRDs
  name: datadogmonitors.datadoghq.com
spec:
  group: datadoghq.com
  names:
    kind: DatadogMonitor
    listKind: DatadogMonitorList
    plural: datadogmonitors
    singular: datadogmonitor
  scope: Namespaced
  versions:
    - additionalPrinterColumns:
        - jsonPath: .status.id
          name: id
          type: string
        - jsonPath: .status.monitorState
          name: monitor state
          type: string
        - jsonPath: .status.monitorStateLastTransitionTime
          name: last state transition
          type: string
        - format: date
          jsonPath: .status.monitorStateLastUpdateTime
          name: last state sync
          type: string
        - jsonPath: .status.syncStatus
          name: sync status
          type: string
        - jsonPath: .metadata.creationTimestamp
          name: age
          type: date
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: DatadogMonitor allows to define and manage Monitors from your Kubernetes Cluster
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: DatadogMonitorSpec defines the desired state of DatadogMonitor
              properties:
                controllerOptions:
                  description: ControllerOptions are the optional parameters in the DatadogMonitor controller
                  properties:
                    disableRequiredTags:
                      description: DisableRequiredTags disables the automatic addition of required tags to monitors.
                      type: boolean
                  type: object
                message:
                  description: Message is a message to include with notifications for this monitor
                  minLength: 1
                  type: string
                name:
                  description: Name is the monitor name
                  minLength: 1
                  type: string
                options:
                  description: Options are the optional parameters associated with your monitor
                  properties:
                    enableLogsSample:
                      description: A Boolean indicating whether to send a log sample when the log monitor triggers.
                      type: boolean
                    escalationMessage:
                      description: A message to include with a re-notification.
                      type: string
                    evaluationDelay:
                      description: |-
                        Time (in seconds) to delay evaluation, as a non-negative integer. For example, if the value is set to 300 (5min),
                        the timeframe is set to last_5m and the time is 7:00, the monitor evaluates data from 6:50 to 6:55.
                        This is useful for AWS CloudWatch and other backfilled metrics to ensure the monitor always has data during evaluation.
                      format: int64
                      type: integer
                    groupRetentionDuration:
                      description: |-
                        The time span after which groups with missing data are dropped from the monitor state.
                        The minimum value is one hour, and the maximum value is 72 hours.
                        Example values are: "60m", "1h", and "2d".
                        This option is only available for APM Trace Analytics, Audit Trail, CI, Error Tracking, Event, Logs, and RUM monitors.
                      type: string
                    groupbySimpleMonitor:
                      description: A Boolean indicating whether the log alert monitor triggers a single alert or multiple alerts when any group breaches a threshold.
                      type: boolean
                    includeTags:
                      description: A Boolean indicating whether notifications from this monitor automatically inserts its triggering tags into the title.
                      type: boolean
                    locked:
                      description: 'DEPRECATED: Whether or not the monitor is locked (only editable by creator and admins). Use `restricted_roles` instead.'
                      type: boolean
                    newGroupDelay:
                      description: |-
                        Time (in seconds) to allow a host to boot and applications to fully start before starting the evaluation of
                        monitor results. Should be a non negative integer.
                      format: int64
                      type: integer
                    noDataTimeframe:
                      description: |-
                        The number of minutes before a monitor notifies after data stops reporting. Datadog recommends at least 2x the
                        monitor timeframe for metric alerts or 2 minutes for service checks. If omitted, 2x the evaluation timeframe
                        is used for metric alerts, and 24 hours is used for service checks.
                      format: int64
                      type: integer
                    notificationPresetName:
                      description: An enum that toggles the display of additional content sent in the monitor notification.
                      type: string
                    notifyAudit:
                      description: A Boolean indicating whether tagged users are notified on changes to this monitor.
                      type: boolean
                    notifyBy:
                      description: |-
                        A string indicating the granularity a monitor alerts on. Only available for monitors with groupings.
                        For instance, a monitor grouped by cluster, namespace, and pod can be configured to only notify on each new
                        cluster violating the alert conditions by setting notify_by to ["cluster"]. Tags mentioned in notify_by must
                        be a subset of the grouping tags in the query. For example, a query grouped by cluster and namespace cannot
                        notify on region. Setting notify_by to [*] configures the monitor to notify as a simple-alert.
                      items:
                        type: string
                      type: array
                      x-kubernetes-list-type: set
                    notifyNoData:
                      description: A Boolean indicating whether this monitor notifies when data stops reporting.
                      type: boolean
                    onMissingData:
                      description: |-
                        An enum that controls how groups or monitors are treated if an evaluation does not return data points.
                        The default option results in different behavior depending on the monitor query type.
                        For monitors using Count queries, an empty monitor evaluation is treated as 0 and is compared to the threshold conditions.
                        For monitors using any query type other than Count, for example Gauge, Measure, or Rate, the monitor shows the last known status.
                        This option is only available for APM Trace Analytics, Audit Trail, CI, Error Tracking, Event, Logs, and RUM monitors
                      type: string
                    renotifyInterval:
                      description: |-
                        The number of minutes after the last notification before a monitor re-notifies on the current status.
                        It only re-notifies if its not resolved.
                      format: int64
                      type: integer
                    renotifyOccurrences:
                      description: The number of times re-notification messages should be sent on the current status at the provided re-notification interval.
                      format: int64
                      type: integer
                    renotifyStatuses:
                      description: The types of statuses for which re-notification messages should be sent. Valid values are alert, warn, no data.
                      items:
                        description: MonitorRenotifyStatusType The different statuses for which renotification is supported.
                        type: string
                      type: array
                      x-kubernetes-list-type: set
                    requireFullWindow:
                      description: |-
                        A Boolean indicating whether this monitor needs a full window of data before its evaluated. We highly
                        recommend you set this to false for sparse metrics, otherwise some evaluations are skipped. Default is false.
                      type: boolean
                    schedulingOptions:
                      description: Configuration options for scheduling.
                      properties:
                        customSchedule:
                          description: Configuration options for the custom schedule. If start is omitted, the monitor creation time will be used.
                          properties:
                            recurrence:
                              description: DatadogMonitorOptionsSchedulingOptionsCustomScheduleRecurrence is a struct of the recurrence definition
                              properties:
                                rrule:
                                  description: The recurrence rule in iCalendar format. For example, `FREQ=MONTHLY;BYMONTHDAY=28,29,30,31;BYSETPOS=-1`.
                                  type: string
                                start:
                                  description: |-
                                    The start date of the recurrence rule defined in `YYYY-MM-DDThh:mm:ss` format.
                                    If omitted, the monitor creation time will be used.
                                  type: string
                                timezone:
                                  description: The timezone in `tz database` format, in which the recurrence rule is defined. For example, `America/New_York` or `UTC`.
                                  type: string
                              type: object
                          type: object
                        evaluationWindow:
                          description: |-
                            Configuration options for the evaluation window. If hour_starts is set, no other fields may be set.
                            Otherwise, day_starts and month_starts must be set together.
                          properties:
                            dayStarts:
                              description: The time of the day at which a one day cumulative evaluation window starts. Must be defined in UTC time in HH:mm format.
                              type: string
                            hourStarts:
                              description: The minute of the hour at which a one hour cumulative evaluation window starts.
                              format: int32
                              type: integer
                            monthStarts:
                              description: The day of the month at which a one month cumulative evaluation window starts.
                              format: int32
                              type: integer
                          type: object
                      type: object
                    thresholdWindows:
                      description: A struct of the alerting time window options.
                      properties:
                        recoveryWindow:
                          description: Describes how long an anomalous metric must be normal before the alert recovers.
                          type: string
                        triggerWindow:
                          description: Describes how long a metric must be anomalous before an alert triggers.
                          type: string
                      type: object
                    thresholds:
                      description: A struct of the different monitor threshold values.
                      properties:
                        critical:
                          description: The monitor CRITICAL threshold.
                          type: string
                        criticalRecovery:
                          description: The monitor CRITICAL recovery threshold.
                          type: string
                        ok:
                          description: The monitor OK threshold.
                          type: string
                        unknown:
                          description: The monitor UNKNOWN threshold.
                          type: string
                        warning:
                          description: The monitor WARNING threshold.
                          type: string
                        warningRecovery:
                          description: The monitor WARNING recovery threshold.
                          type: string
                      type: object
                    timeoutH:
                      description: The number of hours of the monitor not reporting data before it automatically resolves from a triggered state.
                      format: int64
                      type: integer
                  type: object
                priority:
                  description: Priority is an integer from 1 (high) to 5 (low) indicating alert severity
                  format: int64
                  type: integer
                query:
                  description: Query is the Datadog monitor query
                  minLength: 1
                  type: string
                restrictedRoles:
                  description: |-
                    RestrictedRoles is a list of unique role identifiers to define which roles are allowed to edit the monitor.
                    `restricted_roles` is the successor of `locked`. For more information about `locked` and `restricted_roles`,
                    see the [monitor options docs](https://docs.datadoghq.com/monitors/guide/monitor_api_options/#permissions-options).
                  items:
                    type: string
                  type: array
                  x-kubernetes-list-type: set
                tags:
                  description: Tags is the monitor tags associated with your monitor
                  items:
                    type: string
                  type: array
                  x-kubernetes-list-type: set
                type:
                  description: Type is the monitor type
                  enum:
                    - metric alert
                    - query alert
                    - service check
                    - event alert
                    - log alert
                    - process alert
                    - rum alert
                    - trace-analytics alert
                    - slo alert
                    - event-v2 alert
                    - audit alert
                    - composite
                  type: string
              required:
                - message
                - name
                - query
                - type
              type: object
            status:
              description: DatadogMonitorStatus defines the observed state of DatadogMonitor
              properties:
                conditions:
                  description: Conditions Represents the latest available observations of a DatadogMonitor's current state.
                  items:
                    description: DatadogMonitorCondition describes the current state of a DatadogMonitor
                    properties:
                      lastTransitionTime:
                        description: Last time the condition transitioned from one status to another.
                        format: date-time
                        type: string
                      lastUpdateTime:
                        description: Last time the condition was updated.
                        format: date-time
                        type: string
                      message:
                        description: A human readable message indicating details about the transition.
                        type: string
                      reason:
                        description: The reason for the condition's last transition.
                        type: string
                      status:
                        description: Status of the condition, one of True, False, Unknown.
                        type: string
                      type:
                        description: Type of DatadogMonitor condition
                        type: string
                    required:
                      - status
                      - type
                    type: object
                  type: array
                  x-kubernetes-list-map-keys:
                    - type
                  x-kubernetes-list-type: map
                created:
                  description: Created is the time the monitor was created
                  format: date-time
                  type: string
                creator:
                  description: Creator is the identify of the monitor creator
                  type: string
                currentHash:
                  description: |-
                    CurrentHash tracks the hash of the current DatadogMonitorSpec to know
                    if the Spec has changed and needs an update
                  type: string
                downtimeStatus:
                  description: DowntimeStatus defines whether the monitor is downtimed
                  properties:
                    downtimeID:
                      description: DowntimeID is the downtime ID.
                      type: integer
                    isDowntimed:
                      description: IsDowntimed shows the downtime status of the monitor.
                      type: boolean
                  type: object
                id:
                  description: ID is the monitor ID generated in Datadog
                  type: integer
                monitorLastForceSyncTime:
                  description: MonitorLastForceSyncTime is the last time the API monitor was last force synced with the DatadogMonitor resource
                  format: date-time
                  type: string
                monitorState:
                  description: MonitorState is the overall state of monitor
                  type: string
                monitorStateLastTransitionTime:
                  description: MonitorStateLastTransitionTime is the last time the monitor state changed
                  format: date-time
                  type: string
                monitorStateLastUpdateTime:
                  description: MonitorStateLastUpdateTime is the last time the monitor state updated
                  format: date-time
                  type: string
                monitorStateSyncStatus:
                  description: MonitorStateSyncStatus shows the health of syncing the monitor state to Datadog
                  type: string
                primary:
                  description: |-
                    Primary defines whether the monitor is managed by the Kubernetes custom
                    resource (true) or outside Kubernetes (false)
                  type: boolean
                triggeredState:
                  description: TriggeredState only includes details for monitor groups that are triggering
                  items:
                    description: |-
                      DatadogMonitorTriggeredState represents the details of a triggering DatadogMonitor
                      The DatadogMonitor is triggering if one of its groups is in Alert, Warn, or No Data
                    properties:
                      lastTransitionTime:
                        format: date-time
                        type: string
                      monitorGroup:
                        description: MonitorGroup is the name of the triggering group
                        type: string
                      state:
                        description: DatadogMonitorState represents the overall DatadogMonitor state
                        type: string
                    required:
                      - monitorGroup
                    type: object
                  type: array
                  x-kubernetes-list-map-keys:
                    - monitorGroup
                  x-kubernetes-list-type: map
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.3
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadogCRDs
  name: datadogpodautoscalers.datadoghq.com
spec:
  group: datadoghq.com
  names:
    kind: DatadogPodAutoscaler
    listKind: DatadogPodAutoscalerList
    plural: datadogpodautoscalers
    shortNames:
      - dpa
    singular: datadogpodautoscaler
  scope: Namespaced
  versions:
    - additionalPrinterColumns:
        - jsonPath: .spec.policy.applyMode
          name: Apply Mode
          type: string
        - jsonPath: .status.conditions[?(@.type=='Active')].status
          name: Active
          type: string
        - jsonPath: .status.conditions[?(@.type=='Error')].status
          name: In Error
          type: string
        - jsonPath: .status.horizontal.target.desiredReplicas
          name: Desired Replicas
          type: integer
        - jsonPath: .status.horizontal.target.generatedAt
          name: Generated
          type: date
        - jsonPath: .status.conditions[?(@.type=='HorizontalAbleToScale')].status
          name: Able to Scale
          type: string
        - jsonPath: .status.horizontal.lastAction.time
          name: Last Scale
          type: date
        - jsonPath: .status.vertical.target.podCPURequest
          name: Target CPU Req
          type: string
        - jsonPath: .status.vertical.target.podMemoryRequest
          name: Target Memory Req
          type: string
        - jsonPath: .status.vertical.target.generatedAt
          name: Generated
          type: date
        - jsonPath: .status.conditions[?(@.type=='VerticalAbleToApply')].status
          name: Able to Apply
          type: string
        - jsonPath: .status.vertical.lastAction.time
          name: Last Trigger
          type: date
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: DatadogPodAutoscaler is the Schema for the datadogpodautoscalers API
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: DatadogPodAutoscalerSpec defines the desired state of DatadogPodAutoscaler
              properties:
                constraints:
                  description: Constraints defines constraints that should always be respected.
                  properties:
                    containers:
                      description: Containers defines constraints for the containers.
                      items:
                        description: |-
                          DatadogPodAutoscalerContainerConstraints defines constraints that should always be respected for a container.
                          If no constraints are set, it enables resource scaling for all containers without any constraints.
                        properties:
                          enabled:
                            description: Enabled, if false, allows one to disable resource autoscaling for the container. Defaults to true.
                            type: boolean
                          name:
                            description: Name is the name of the container. Can be "*" to apply to all containers.
                            type: string
                          requests:
                            description: Requests defines the constraints for the requests of the container.
                            properties:
                              maxAllowed:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                description: MaxAllowed is the upper limit for the requests of the container.
                                type: object
                              minAllowed:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                description: MinAllowed is the lower limit for the requests of the container.
                                type: object
                            type: object
                        required:
                          - name
                        type: object
                      type: array
                    maxReplicas:
                      description: MaxReplicas is the upper limit for the number of POD replicas. Needs to be >= minReplicas.
                      format: int32
                      type: integer
                    minReplicas:
                      description: MinReplicas is the lower limit for the number of pod replicas. Needs to be >= 1. Defaults to 1.
                      format: int32
                      minimum: 1
                      type: integer
                  required:
                    - maxReplicas
                  type: object
                owner:
                  description: |-
                    Owner defines the source of truth for this object (local or remote)
                    Value needs to be set when a DatadogPodAutoscaler object is created.
                  enum:
                    - Local
                    - Remote
                  type: string
                policy:
                  default: {}
                  description: Policy defines how recommendations should be applied.
                  properties:
                    applyMode:
                      default: All
                      description: |-
                        ApplyMode determines recommendations that should be applied by the controller:
                        - All: Apply all recommendations (regular and manual).
                        - Manual: Apply only manual recommendations (recommendations manually validated by user in the Datadog app).
                        - None: Prevent the controller to apply any recommendations.
                        It's also possible to selectively deactivate upscale, downscale or update actions thanks to the `Upscale`, `Downscale` and `Update` fields.
                      enum:
                        - All
                        - Manual
                        - None
                      type: string
                    downscale:
                      description: Downscale defines the policy to scale down the target resource.
                      properties:
                        rules:
                          description: |-
                            Rules is a list of potential scaling polices which can be used during scaling.
                            At least one policy must be specified, otherwise the DatadogPodAutoscalerScalingPolicy will be discarded as invalid
                          items:
                            description: DatadogPodAutoscalerScalingRule defines rules for horizontal scaling that should be true for a certain amount of time.
                            properties:
                              periodSeconds:
                                description: |-
                                  PeriodSeconds specifies the window of time for which the policy should hold true.
                                  PeriodSeconds must be greater than zero and less than or equal to 3600 (1 hour).
                                format: int32
                                maximum: 3600
                                minimum: 1
                                type: integer
                              type:
                                description: Type is used to specify the scaling policy.
                                enum:
                                  - Pods
                                  - Percent
                                type: string
                              value:
                                description: |-
                                  Value contains the amount of change which is permitted by the policy.
                                  Setting it to 0 will prevent any scaling in this direction.
                                format: int32
                                minimum: 0
                                type: integer
                            required:
                              - periodSeconds
                              - type
                              - value
                            type: object
                          type: array
                          x-kubernetes-list-type: atomic
                        stabilizationWindowSeconds:
                          description: |-
                            StabilizationWindowSeconds is the number of seconds the controller should lookback at previous recommendations
                            before deciding to apply a new one. Defaults to 0.
                          format: int32
                          maximum: 3600
                          minimum: 0
                          type: integer
                        strategy:
                          description: |-
                            Strategy is used to specify which policy should be used.
                            If not set, the default value Max is used.
                          enum:
                            - Max
                            - Min
                            - Disabled
                          type: string
                      type: object
                    update:
                      description: Update defines the policy to update target resource.
                      properties:
                        strategy:
                          description: Strategy defines the mode of the update policy.
                          enum:
                            - Auto
                            - Disabled
                          type: string
                      type: object
                    upscale:
                      description: Upscale defines the policy to scale up the target resource.
                      properties:
                        rules:
                          description: |-
                            Rules is a list of potential scaling polices which can be used during scaling.
                            At least one policy must be specified, otherwise the DatadogPodAutoscalerScalingPolicy will be discarded as invalid
                          items:
                            description: DatadogPodAutoscalerScalingRule defines rules for horizontal scaling that should be true for a certain amount of time.
                            properties:
                              periodSeconds:
                                description: |-
                                  PeriodSeconds specifies the window of time for which the policy should hold true.
                                  PeriodSeconds must be greater than zero and less than or equal to 3600 (1 hour).
                                format: int32
                                maximum: 3600
                                minimum: 1
                                type: integer
                              type:
                                description: Type is used to specify the scaling policy.
                                enum:
                                  - Pods
                                  - Percent
                                type: string
                              value:
                                description: |-
                                  Value contains the amount of change which is permitted by the policy.
                                  Setting it to 0 will prevent any scaling in this direction.
                                format: int32
                                minimum: 0
                                type: integer
                            required:
                              - periodSeconds
                              - type
                              - value
                            type: object
                          type: array
                          x-kubernetes-list-type: atomic
                        stabilizationWindowSeconds:
                          description: |-
                            StabilizationWindowSeconds is the number of seconds the controller should lookback at previous recommendations
                            before deciding to apply a new one. Defaults to 0.
                          format: int32
                          maximum: 3600
                          minimum: 0
                          type: integer
                        strategy:
                          description: |-
                            Strategy is used to specify which policy should be used.
                            If not set, the default value Max is used.
                          enum:
                            - Max
                            - Min
                            - Disabled
                          type: string
                      type: object
                  type: object
                remoteVersion:
                  description: |-
                    RemoteVersion is the version of the .Spec currently store in this object.
                    Only set if the owner is Remote.
                  format: int64
                  type: integer
                targetRef:
                  description: TargetRef is the reference to the resource to scale.
                  properties:
                    apiVersion:
                      description: apiVersion is the API version of the referent
                      type: string
                    kind:
                      description: 'kind is the kind of the referent; More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                      type: string
                    name:
                      description: 'name is the name of the referent; More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                      type: string
                  required:
                    - kind
                    - name
                  type: object
                targets:
                  description: |-
                    Targets are objectives to reach and maintain for the target resource.
                    Default to a single target to maintain 80% POD CPU utilization.
                  items:
                    description: DatadogPodAutoscalerObjective defines the objectives to reach and maintain for the target workload.
                    properties:
                      containerResource:
                        description: ContainerResource allows to set a container-level resource objective.
                        properties:
                          container:
                            description: Container is the name of the container.
                            type: string
                          name:
                            description: Name is the name of the resource.
                            enum:
                              - cpu
                            type: string
                          value:
                            description: Value is the value of the objective
                            properties:
                              type:
                                description: 'Type specifies how the value is expressed (possible values: Utilization).'
                                enum:
                                  - Utilization
                                type: string
                              utilization:
                                description: Utilization defines a percentage of the target compared to requested workload
                                format: int32
                                maximum: 100
                                minimum: 0
                                type: integer
                            required:
                              - type
                            type: object
                        required:
                          - container
                          - name
                          - value
                        type: object
                      podResource:
                        description: PodResource allows to set a pod-level resource objective.
                        properties:
                          name:
                            description: Name is the name of the resource.
                            enum:
                              - cpu
                            type: string
                          value:
                            description: Value is the value of the objective.
                            properties:
                              type:
                                description: 'Type specifies how the value is expressed (possible values: Utilization).'
                                enum:
                                  - Utilization
                                type: string
                              utilization:
                                description: Utilization defines a percentage of the target compared to requested workload
                                format: int32
                                maximum: 100
                                minimum: 0
                                type: integer
                            required:
                              - type
                            type: object
                        required:
                          - name
                          - value
                        type: object
                      type:
                        description: Type sets the type of the objective.
                        enum:
                          - PodResource
                          - ContainerResource
                        type: string
                    required:
                      - type
                    type: object
                  type: array
                  x-kubernetes-list-type: atomic
              required:
                - owner
                - targetRef
              type: object
            status:
              description: DatadogPodAutoscalerStatus defines the observed state of DatadogPodAutoscaler
              properties:
                conditions:
                  description: Conditions describe the current state of the DatadogPodAutoscaler operations.
                  items:
                    description: DatadogPodAutoscalerCondition describes the state of DatadogPodAutoscaler.
                    properties:
                      lastTransitionTime:
                        description: Last time the condition transitioned from one status to another.
                        format: date-time
                        type: string
                      message:
                        description: A human readable message indicating details about the transition.
                        type: string
                      reason:
                        description: The reason for the condition's last transition.
                        type: string
                      status:
                        description: Status of the condition, one of True, False, Unknown.
                        type: string
                      type:
                        description: DatadogPodAutoscalerConditionType is the type of DatadogPodAutoscaler condition.
                        type: string
                    required:
                      - status
                      - type
                    type: object
                  type: array
                  x-kubernetes-list-map-keys:
                    - type
                  x-kubernetes-list-type: map
                currentReplicas:
                  description: CurrentReplicas is the current number of pods for the targetRef observed by the controller.
                  format: int32
                  type: integer
                horizontal:
                  description: Horizontal is the status of the horizontal scaling, if activated.
                  properties:
                    lastActions:
                      description: LastActions are the last successful actions done by the controller
                      items:
                        description: DatadogPodAutoscalerHorizontalAction represents a horizontal action done by the controller
                        properties:
                          limitedReason:
                            description: LimitedReason is the reason why the action was limited (that is ToReplicas != RecommendedReplicas)
                            type: string
                          recommendedReplicas:
                            description: RecommendedReplicas is the original number of replicas recommended by Datadog
                            format: int32
                            type: integer
                          replicas:
                            description: FromReplicas is the number of replicas before the action
                            format: int32
                            type: integer
                          time:
                            description: Time is the timestamp of the action
                            format: date-time
                            type: string
                          toReplicas:
                            description: ToReplicas is the effective number of replicas after the action
                            format: int32
                            type: integer
                        required:
                          - replicas
                          - time
                          - toReplicas
                        type: object
                      type: array
                    lastRecommendations:
                      description: LastRecommendations stores the most recent recommendations
                      items:
                        description: DatadogPodAutoscalerHorizontalRecommendation defines a horizontal scaling recommendation
                        properties:
                          desiredReplicas:
                            description: Replicas is the recommended number of replicas for the workload
                            format: int32
                            type: integer
                          generatedAt:
                            description: GeneratedAt is the timestamp at which the recommendation was generated
                            format: date-time
                            type: string
                          source:
                            description: Source is the source of the value used to scale the target workload
                            type: string
                        required:
                          - desiredReplicas
                        type: object
                      type: array
                    target:
                      description: Target is the current target of the horizontal scaling
                      properties:
                        desiredReplicas:
                          description: Replicas is the recommended number of replicas for the workload
                          format: int32
                          type: integer
                        generatedAt:
                          description: GeneratedAt is the timestamp at which the recommendation was generated
                          format: date-time
                          type: string
                        source:
                          description: Source is the source of the value used to scale the target workload
                          type: string
                      required:
                        - desiredReplicas
                      type: object
                  type: object
                vertical:
                  description: Vertical is the status of the vertical scaling, if activated.
                  properties:
                    lastAction:
                      description: LastAction is the last successful action done by the controller
                      properties:
                        time:
                          description: Time is the timestamp of the action
                          format: date-time
                          type: string
                        type:
                          description: Type is the type of action
                          type: string
                        version:
                          description: Version is the version of the recommendation used for the action
                          type: string
                      required:
                        - time
                        - type
                        - version
                      type: object
                    target:
                      description: Target is the current target of the vertical scaling
                      properties:
                        desiredResources:
                          description: DesiredResources is the desired resources for containers
                          items:
                            properties:
                              limits:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                description: Limits describes the maximum amount of compute resources allowed.
                                type: object
                              name:
                                description: Name is the name of the container
                                type: string
                              requests:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                description: Requests describes the requested amount of compute resources.
                                type: object
                            required:
                              - name
                            type: object
                          type: array
                        generatedAt:
                          description: GeneratedAt is the timestamp at which the recommendation was generated
                          format: date-time
                          type: string
                        podCPURequest:
                          anyOf:
                            - type: integer
                            - type: string
                          description: PodCPURequest is the sum of CPU requests for all containers (used for display)
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        podMemoryRequest:
                          anyOf:
                            - type: integer
                            - type: string
                          description: PodMemoryRequest is the sum of memory requests for all containers (used for display)
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        scaled:
                          description: Scaled is the current number of pods having desired resources
                          format: int32
                          type: integer
                        source:
                          description: Source is the source of the value used to scale the target resource
                          type: string
                        version:
                          description: Version is the current version of the received recommendation
                          type: string
                      required:
                        - desiredResources
                        - podCPURequest
                        - podMemoryRequest
                        - source
                        - version
                      type: object
                  type: object
              type: object
          type: object
      served: true
      storage: false
      subresources:
        status: {}
    - additionalPrinterColumns:
        - jsonPath: .spec.policy.applyMode
          name: Apply Mode
          type: string
        - jsonPath: .status.conditions[?(@.type=='Active')].status
          name: Active
          type: string
        - jsonPath: .status.conditions[?(@.type=='Error')].status
          name: In Error
          type: string
        - jsonPath: .status.horizontal.target.desiredReplicas
          name: Desired Replicas
          type: integer
        - jsonPath: .status.horizontal.target.generatedAt
          name: Generated
          type: date
        - jsonPath: .status.conditions[?(@.type=='HorizontalAbleToScale')].status
          name: Able to Scale
          type: string
        - jsonPath: .status.horizontal.lastAction.time
          name: Last Scale
          type: date
        - jsonPath: .status.vertical.target.podCPURequest
          name: Target CPU Req
          type: string
        - jsonPath: .status.vertical.target.podMemoryRequest
          name: Target Memory Req
          type: string
        - jsonPath: .status.vertical.target.generatedAt
          name: Generated
          type: date
        - jsonPath: .status.conditions[?(@.type=='VerticalAbleToApply')].status
          name: Able to Apply
          type: string
        - jsonPath: .status.vertical.lastAction.time
          name: Last Trigger
          type: date
      name: v1alpha2
      schema:
        openAPIV3Schema:
          description: DatadogPodAutoscaler is the Schema for the datadogpodautoscalers API
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: DatadogPodAutoscalerSpec defines the desired state of DatadogPodAutoscaler
              properties:
                applyPolicy:
                  default: {}
                  description: ApplyPolicy defines how recommendations should be applied.
                  properties:
                    mode:
                      default: Apply
                      description: |-
                        Mode determines recommendations that should be applied by the controller:
                        - Apply: Apply all recommendations.
                        - Preview: Recommendations are received and visible through .Status, but the controller does not apply them.
                        It's also possible to selectively deactivate upscale, downscale or update actions thanks to the `ScaleUp`, `ScaleDown` and `Update` fields.
                      enum:
                        - Apply
                        - Preview
                      type: string
                    scaleDown:
                      description: ScaleDown defines the policy to scale down the target resource.
                      properties:
                        rules:
                          description: |-
                            Rules is a list of potential scaling polices which can be used during scaling.
                            At least one policy must be specified, otherwise the DatadogPodAutoscalerScalingPolicy will be discarded as invalid
                          items:
                            description: DatadogPodAutoscalerScalingRule defines rules for horizontal scaling that should be true for a certain amount of time.
                            properties:
                              periodSeconds:
                                description: |-
                                  PeriodSeconds specifies the window of time for which the policy should hold true.
                                  PeriodSeconds must be greater than zero and less than or equal to 3600 (1 hour).
                                format: int32
                                maximum: 3600
                                minimum: 1
                                type: integer
                              type:
                                description: Type is used to specify the scaling policy.
                                enum:
                                  - Pods
                                  - Percent
                                type: string
                              value:
                                description: |-
                                  Value contains the amount of change which is permitted by the policy.
                                  Setting it to 0 will prevent any scaling in this direction.
                                format: int32
                                minimum: 0
                                type: integer
                            required:
                              - periodSeconds
                              - type
                              - value
                            type: object
                          type: array
                          x-kubernetes-list-type: atomic
                        stabilizationWindowSeconds:
                          description: |-
                            StabilizationWindowSeconds is the number of seconds the controller should lookback at previous recommendations
                            before deciding to apply a new one. Defaults to 0.
                          format: int32
                          maximum: 3600
                          minimum: 0
                          type: integer
                        strategy:
                          description: |-
                            Strategy is used to specify which policy should be used.
                            If not set, the default value Max is used.
                          enum:
                            - Max
                            - Min
                            - Disabled
                          type: string
                      type: object
                    scaleUp:
                      description: ScaleUp defines the policy to scale up the target resource.
                      properties:
                        rules:
                          description: |-
                            Rules is a list of potential scaling polices which can be used during scaling.
                            At least one policy must be specified, otherwise the DatadogPodAutoscalerScalingPolicy will be discarded as invalid
                          items:
                            description: DatadogPodAutoscalerScalingRule defines rules for horizontal scaling that should be true for a certain amount of time.
                            properties:
                              periodSeconds:
                                description: |-
                                  PeriodSeconds specifies the window of time for which the policy should hold true.
                                  PeriodSeconds must be greater than zero and less than or equal to 3600 (1 hour).
                                format: int32
                                maximum: 3600
                                minimum: 1
                                type: integer
                              type:
                                description: Type is used to specify the scaling policy.
                                enum:
                                  - Pods
                                  - Percent
                                type: string
                              value:
                                description: |-
                                  Value contains the amount of change which is permitted by the policy.
                                  Setting it to 0 will prevent any scaling in this direction.
                                format: int32
                                minimum: 0
                                type: integer
                            required:
                              - periodSeconds
                              - type
                              - value
                            type: object
                          type: array
                          x-kubernetes-list-type: atomic
                        stabilizationWindowSeconds:
                          description: |-
                            StabilizationWindowSeconds is the number of seconds the controller should lookback at previous recommendations
                            before deciding to apply a new one. Defaults to 0.
                          format: int32
                          maximum: 3600
                          minimum: 0
                          type: integer
                        strategy:
                          description: |-
                            Strategy is used to specify which policy should be used.
                            If not set, the default value Max is used.
                          enum:
                            - Max
                            - Min
                            - Disabled
                          type: string
                      type: object
                    update:
                      description: Update defines the policy for updating the target resource.
                      properties:
                        strategy:
                          description: Strategy defines the mode of the update policy.
                          enum:
                            - Auto
                            - Disabled
                          type: string
                      type: object
                  type: object
                constraints:
                  description: Constraints defines constraints that should always be respected.
                  properties:
                    containers:
                      description: Containers defines constraints for the containers.
                      items:
                        description: |-
                          DatadogPodAutoscalerContainerConstraints defines constraints that should always be respected for a container.
                          If no constraints are set, it enables resource scaling for all containers without any constraints.
                        properties:
                          enabled:
                            description: Enabled, if false, allows one to disable resource autoscaling for the container. Defaults to true.
                            type: boolean
                          name:
                            description: Name is the name of the container. Can be "*" to apply to all containers.
                            type: string
                          requests:
                            description: Requests defines the constraints for the requests of the container.
                            properties:
                              maxAllowed:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                description: MaxAllowed is the upper limit for the requests of the container.
                                type: object
                              minAllowed:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                description: MinAllowed is the lower limit for the requests of the container.
                                type: object
                            type: object
                        required:
                          - name
                        type: object
                      type: array
                    maxReplicas:
                      description: MaxReplicas is the upper limit for the number of POD replicas. Needs to be >= minReplicas.
                      format: int32
                      type: integer
                    minReplicas:
                      description: MinReplicas is the lower limit for the number of pod replicas. Needs to be >= 1. Defaults to 1.
                      format: int32
                      minimum: 1
                      type: integer
                  required:
                    - maxReplicas
                  type: object
                fallback:
                  default: {}
                  description: Fallback defines how recommendations should be applied when in fallback mode.
                  properties:
                    horizontal:
                      default: {}
                      description: Horizontal configures the behavior during horizontal fallback mode.
                      properties:
                        direction:
                          default: ScaleUp
                          description: Direction determines the direction that recommendations should be applied.
                          enum:
                            - ScaleUp
                            - ScaleDown
                            - All
                          type: string
                        enabled:
                          default: true
                          description: 'Enabled determines whether recommendations should be applied by the controller:'
                          type: boolean
                        triggers:
                          default: {}
                          description: Triggers defines the triggers that will generate recommendations.
                          properties:
                            staleRecommendationThresholdSeconds:
                              default: 600
                              description: StaleRecommendationThresholdSeconds defines the time window the controller will wait after detecting an error before applying recommendations.
                              format: int32
                              maximum: 3600
                              minimum: 100
                              type: integer
                          type: object
                      type: object
                  type: object
                objectives:
                  description: |-
                    Objectives are the objectives to reach and maintain for the target resource.
                    Default to a single objective to maintain 80% POD CPU utilization.
                  items:
                    description: DatadogPodAutoscalerObjective defines the objectives to reach and maintain for the target workload.
                    properties:
                      containerResource:
                        description: ContainerResource allows to set a container-level resource objective.
                        properties:
                          container:
                            description: Container is the name of the container.
                            type: string
                          name:
                            description: Name is the name of the resource.
                            enum:
                              - cpu
                            type: string
                          value:
                            description: Value is the value of the objective
                            properties:
                              type:
                                description: 'Type specifies how the value is expressed (possible values: Utilization).'
                                enum:
                                  - Utilization
                                type: string
                              utilization:
                                description: Utilization defines a percentage of the target compared to requested workload
                                format: int32
                                maximum: 100
                                minimum: 0
                                type: integer
                            required:
                              - type
                            type: object
                        required:
                          - container
                          - name
                          - value
                        type: object
                      podResource:
                        description: PodResource allows to set a pod-level resource objective.
                        properties:
                          name:
                            description: Name is the name of the resource.
                            enum:
                              - cpu
                            type: string
                          value:
                            description: Value is the value of the objective.
                            properties:
                              type:
                                description: 'Type specifies how the value is expressed (possible values: Utilization).'
                                enum:
                                  - Utilization
                                type: string
                              utilization:
                                description: Utilization defines a percentage of the target compared to requested workload
                                format: int32
                                maximum: 100
                                minimum: 0
                                type: integer
                            required:
                              - type
                            type: object
                        required:
                          - name
                          - value
                        type: object
                      type:
                        description: Type sets the type of the objective.
                        enum:
                          - PodResource
                          - ContainerResource
                        type: string
                    required:
                      - type
                    type: object
                  minItems: 1
                  type: array
                  x-kubernetes-list-type: atomic
                owner:
                  description: |-
                    Owner defines the source of truth for this object (local or remote).
                    Value must be set when a DatadogPodAutoscaler object is created.
                  enum:
                    - Local
                    - Remote
                  type: string
                remoteVersion:
                  description: |-
                    RemoteVersion is the version of the .Spec currently stored in this object.
                    This is only set if the owner is Remote.
                  format: int64
                  type: integer
                targetRef:
                  description: TargetRef is the reference to the resource to scale.
                  properties:
                    apiVersion:
                      description: apiVersion is the API version of the referent
                      type: string
                    kind:
                      description: 'kind is the kind of the referent; More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                      type: string
                    name:
                      description: 'name is the name of the referent; More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                      type: string
                  required:
                    - kind
                    - name
                  type: object
              required:
                - owner
                - targetRef
              type: object
            status:
              description: DatadogPodAutoscalerStatus defines the observed state of DatadogPodAutoscaler
              properties:
                conditions:
                  description: Conditions describe the current state of the DatadogPodAutoscaler operations.
                  items:
                    description: DatadogPodAutoscalerCondition describes the state of DatadogPodAutoscaler.
                    properties:
                      lastTransitionTime:
                        description: Last time the condition transitioned from one status to another.
                        format: date-time
                        type: string
                      message:
                        description: A human readable message indicating details about the transition.
                        type: string
                      reason:
                        description: The reason for the condition's last transition.
                        type: string
                      status:
                        description: Status of the condition, one of True, False, Unknown.
                        type: string
                      type:
                        description: DatadogPodAutoscalerConditionType is the type of DatadogPodAutoscaler condition.
                        type: string
                    required:
                      - status
                      - type
                    type: object
                  type: array
                  x-kubernetes-list-map-keys:
                    - type
                  x-kubernetes-list-type: map
                currentReplicas:
                  description: CurrentReplicas is the current number of pods for the targetRef observed by the controller.
                  format: int32
                  type: integer
                horizontal:
                  description: Horizontal is the status of the horizontal scaling, if activated.
                  properties:
                    lastActions:
                      description: LastActions are the last successful actions done by the controller
                      items:
                        description: DatadogPodAutoscalerHorizontalAction represents a horizontal action done by the controller
                        properties:
                          limitedReason:
                            description: LimitedReason is the reason why the action was limited (that is ToReplicas != RecommendedReplicas)
                            type: string
                          recommendedReplicas:
                            description: RecommendedReplicas is the original number of replicas recommended by Datadog
                            format: int32
                            type: integer
                          replicas:
                            description: FromReplicas is the number of replicas before the action
                            format: int32
                            type: integer
                          time:
                            description: Time is the timestamp of the action
                            format: date-time
                            type: string
                          toReplicas:
                            description: ToReplicas is the effective number of replicas after the action
                            format: int32
                            type: integer
                        required:
                          - replicas
                          - time
                          - toReplicas
                        type: object
                      type: array
                    lastRecommendations:
                      description: LastRecommendations stores the most recent recommendations
                      items:
                        description: DatadogPodAutoscalerHorizontalRecommendation defines a horizontal scaling recommendation
                        properties:
                          desiredReplicas:
                            description: Replicas is the recommended number of replicas for the workload
                            format: int32
                            type: integer
                          generatedAt:
                            description: GeneratedAt is the timestamp at which the recommendation was generated
                            format: date-time
                            type: string
                          source:
                            description: Source is the source of the value used to scale the target workload
                            type: string
                        required:
                          - desiredReplicas
                        type: object
                      type: array
                    target:
                      description: Target is the current target of the horizontal scaling
                      properties:
                        desiredReplicas:
                          description: Replicas is the recommended number of replicas for the workload
                          format: int32
                          type: integer
                        generatedAt:
                          description: GeneratedAt is the timestamp at which the recommendation was generated
                          format: date-time
                          type: string
                        source:
                          description: Source is the source of the value used to scale the target workload
                          type: string
                      required:
                        - desiredReplicas
                      type: object
                  type: object
                vertical:
                  description: Vertical is the status of the vertical scaling, if activated.
                  properties:
                    lastAction:
                      description: LastAction is the last successful action done by the controller
                      properties:
                        time:
                          description: Time is the timestamp of the action
                          format: date-time
                          type: string
                        type:
                          description: Type is the type of action
                          type: string
                        version:
                          description: Version is the version of the recommendation used for the action
                          type: string
                      required:
                        - time
                        - type
                        - version
                      type: object
                    target:
                      description: Target is the current target of the vertical scaling
                      properties:
                        desiredResources:
                          description: DesiredResources is the desired resources for containers
                          items:
                            properties:
                              limits:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                description: Limits describes the maximum amount of compute resources allowed.
                                type: object
                              name:
                                description: Name is the name of the container
                                type: string
                              requests:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                description: Requests describes the requested amount of compute resources.
                                type: object
                            required:
                              - name
                            type: object
                          type: array
                        generatedAt:
                          description: GeneratedAt is the timestamp at which the recommendation was generated
                          format: date-time
                          type: string
                        podCPURequest:
                          anyOf:
                            - type: integer
                            - type: string
                          description: PodCPURequest is the sum of CPU requests for all containers (used for display)
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        podMemoryRequest:
                          anyOf:
                            - type: integer
                            - type: string
                          description: PodMemoryRequest is the sum of memory requests for all containers (used for display)
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        scaled:
                          description: Scaled is the current number of pods having desired resources
                          format: int32
                          type: integer
                        source:
                          description: Source is the source of the value used to scale the target resource
                          type: string
                        version:
                          description: Version is the current version of the received recommendation
                          type: string
                      required:
                        - desiredResources
                        - podCPURequest
                        - podMemoryRequest
                        - source
                        - version
                      type: object
                  type: object
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: operator
    app.kubernetes.io/version: 1.19.0
  name: datadog-operator
rules:
  - nonResourceURLs:
      - /metrics
      - /metrics/slis
    verbs:
      - get
  - apiGroups:
      - ""
    resources:
      - componentstatuses
      - deployments
      - limitranges
      - namespaces
      - persistentvolumeclaims
      - persistentvolumes
      - replicationcontrollers
      - resourcequotas
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - ""
    resources:
      - configmaps
      - endpoints
      - events
      - pods
      - secrets
      - serviceaccounts
      - services
    verbs:
      - create
      - delete
      - get
      - list
      - patch
      - update
      - watch
  - apiGroups:
      - ""
    resources:
      - nodes
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - ""
    resources:
      - nodes/metrics
      - nodes/proxy
      - nodes/spec
      - nodes/stats
    verbs:
      - get
  - apiGroups:
      - '*'
    resources:
      - '*/scale'
    verbs:
      - get
      - update
  - apiGroups:
      - admissionregistration.k8s.io
    resources:
      - mutatingwebhookconfigurations
      - validatingwebhookconfigurations
    verbs:
      - '*'
  - apiGroups:
      - apiextensions.k8s.io
    resources:
      - customresourcedefinitions
    verbs:
      - list
      - watch
  - apiGroups:
      - apiregistration.k8s.io
    resources:
      - apiservices
    verbs:
      - '*'
      - deletecollection
      - list
      - watch
  - apiGroups:
      - apps
    resources:
      - daemonsets
      - deployments
    verbs:
      - create
      - delete
      - deletecollection
      - get
      - list
      - patch
      - update
      - watch
  - apiGroups:
      - apps
    resources:
      - replicasets
      - statefulsets
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - argoproj.io
    resources:
      - rollouts
    verbs:
      - list
      - watch
      - patch
  - apiGroups:
      - authentication.k8s.io
    resources:
      - tokenreviews
    verbs:
      - create
      - get
      - list
      - watch
  - apiGroups:
      - authorization.k8s.io
    resources:
      - subjectaccessreviews
    verbs:
      - create
      - get
  - apiGroups:
      - auto.gke.io
    resources:
      - allowlistsynchronizers
    verbs:
      - create
      - get
      - list
      - watch
  - apiGroups:
      - autoscaling
    resources:
      - horizontalpodautoscalers
    verbs:
      - list
      - watch
  - apiGroups:
      - autoscaling.k8s.io
    resources:
      - verticalpodautoscalers
    verbs:
      - list
      - watch
  - apiGroups:
      - batch
    resources:
      - cronjobs
      - jobs
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - certificates.k8s.io
    resources:
      - certificatesigningrequests
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - cilium.io
    resources:
      - ciliumnetworkpolicies
    verbs:
      - create
      - delete
      - get
      - list
      - patch
      - update
      - watch
  - apiGroups:
      - coordination.k8s.io
    resources:
      - leases
    verbs:
      - create
      - delete
      - get
      - list
      - patch
      - update
      - watch
  - apiGroups:
      - datadoghq.com
    resources:
      - datadogagents
      - datadogagents/finalizers
      - datadoggenericresources
      - datadoggenericresources/finalizers
      - datadogmonitors
      - datadogmonitors/finalizers
      - datadogslos
      - datadogslos/finalizers
      - extendeddaemonsets
    verbs:
      - create
      - delete
      - get
      - list
      - patch
      - update
      - watch
  - apiGroups:
      - datadoghq.com
    resources:
      - datadogagents/status
      - datadoggenericresources/status
      - datadogmonitors/status
      - datadogslos/status
    verbs:
      - get
      - patch
      - update
  - apiGroups:
      - datadoghq.com
    resources:
      - datadogmetrics/status
    verbs:
      - update
  - apiGroups:
      - datadoghq.com
    resources:
      - datadogmetrics
    verbs:
      - create
      - delete
      - get
      - list
      - watch
  - apiGroups:
      - datadoghq.com
    resources:
      - datadogpodautoscalers
      - datadogpodautoscalers/status
    verbs:
      - '*'
  - apiGroups:
      - datadoghq.com
    resources:
      - extendeddaemonsetreplicasets
      - watermarkpodautoscalers
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - datadoghq.com
      - karpenter.azure.com
      - karpenter.k8s.aws
      - karpenter.sh
    resources:
      - '*'
    verbs:
      - list
      - watch
  - apiGroups:
      - discovery.k8s.io
    resources:
      - endpointslices
    verbs:
      - list
      - watch
  - apiGroups:
      - external.metrics.k8s.io
    resources:
      - '*'
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - metrics.eks.amazonaws.com
    resources:
      - kcm/metrics
      - ksh/metrics
    verbs:
      - get
  - apiGroups:
      - networking.k8s.io
    resources:
      - ingresses
    verbs:
      - list
      - watch
  - apiGroups:
      - networking.k8s.io
    resources:
      - networkpolicies
    verbs:
      - create
      - delete
      - get
      - list
      - patch
      - update
      - watch
  - apiGroups:
      - policy
    resources:
      - poddisruptionbudgets
    verbs:
      - create
      - delete
      - get
      - list
      - patch
      - update
      - watch
  - apiGroups:
      - quota.openshift.io
    resources:
      - clusterresourcequotas
    verbs:
      - get
      - list
  - apiGroups:
      - rbac.authorization.k8s.io
    resources:
      - clusterrolebindings
      - clusterroles
    verbs:
      - create
      - delete
      - deletecollection
      - get
      - list
      - patch
      - update
      - watch
  - apiGroups:
      - rbac.authorization.k8s.io
    resources:
      - rolebindings
      - roles
    verbs:
      - create
      - delete
      - get
      - list
      - patch
      - update
      - watch
  - apiGroups:
      - security.openshift.io
    resourceNames:
      - restricted
    resources:
      - securitycontextconstraints
    verbs:
      - use
  - apiGroups:
      - storage.k8s.io
    resources:
      - storageclasses
      - volumeattachments
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - metrics.eks.amazonaws.com
    resources:
      - kcm/metrics
      - ksh/metrics
    verbs:
      - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-cluster-agent
rules:
  - apiGroups:
      - ""
    resources:
      - services
      - endpoints
      - pods
      - nodes
      - namespaces
      - componentstatuses
      - limitranges
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - ""
    resources:
      - events
    verbs:
      - get
      - list
      - watch
      - create
  - apiGroups:
      - discovery.k8s.io
    resources:
      - endpointslices
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - quota.openshift.io
    resources:
      - clusterresourcequotas
    verbs:
      - get
      - list
  - apiGroups:
      - autoscaling
    resources:
      - horizontalpodautoscalers
    verbs:
      - list
      - watch
  - apiGroups:
      - ""
    resourceNames:
      - datadogtoken
      - datadogtoken
    resources:
      - configmaps
    verbs:
      - get
      - update
  - apiGroups:
      - ""
    resourceNames:
      - datadog-leader-election
      - datadog-leader-election
    resources:
      - configmaps
    verbs:
      - get
      - update
  - apiGroups:
      - coordination.k8s.io
    resourceNames:
      - datadog-leader-election
    resources:
      - leases
    verbs:
      - get
      - update
  - apiGroups:
      - coordination.k8s.io
    resources:
      - leases
    verbs:
      - create
  - apiGroups:
      - ""
    resources:
      - configmaps
      - events
    verbs:
      - create
  - nonResourceURLs:
      - /version
      - /healthz
    verbs:
      - get
  - apiGroups:
      - ""
    resourceNames:
      - kube-system
    resources:
      - namespaces
    verbs:
      - get
  - apiGroups:
      - ""
    resourceNames:
      - datadog-cluster-id
    resources:
      - configmaps
    verbs:
      - create
      - get
      - update
  - apiGroups:
      - ""
    resources:
      - persistentvolumes
      - persistentvolumeclaims
      - serviceaccounts
    verbs:
      - list
      - get
      - watch
  - apiGroups:
      - apps
    resources:
      - deployments
      - replicasets
      - daemonsets
      - statefulsets
    verbs:
      - list
      - get
      - watch
  - apiGroups:
      - batch
    resources:
      - cronjobs
      - jobs
    verbs:
      - list
      - get
      - watch
  - apiGroups:
      - networking.k8s.io
    resources:
      - ingresses
      - networkpolicies
    verbs:
      - list
      - get
      - watch
  - apiGroups:
      - rbac.authorization.k8s.io
    resources:
      - roles
      - rolebindings
      - clusterroles
      - clusterrolebindings
    verbs:
      - list
      - get
      - watch
  - apiGroups:
      - storage.k8s.io
    resources:
      - storageclasses
    verbs:
      - list
      - get
      - watch
  - apiGroups:
      - autoscaling.k8s.io
    resources:
      - verticalpodautoscalers
    verbs:
      - list
      - get
      - watch
  - apiGroups:
      - apiextensions.k8s.io
    resources:
      - customresourcedefinitions
    verbs:
      - list
      - get
      - watch
  - apiGroups:
      - admissionregistration.k8s.io
    resourceNames:
      - datadog-webhook
    resources:
      - validatingwebhookconfigurations
      - mutatingwebhookconfigurations
    verbs:
      - get
      - list
      - watch
      - update
      - delete
  - apiGroups:
      - admissionregistration.k8s.io
    resources:
      - validatingwebhookconfigurations
      - mutatingwebhookconfigurations
    verbs:
      - create
  - apiGroups:
      - batch
    resources:
      - jobs
      - cronjobs
    verbs:
      - get
  - apiGroups:
      - apps
    resources:
      - statefulsets
      - replicasets
      - deployments
      - daemonsets
    verbs:
      - get
  - apiGroups:
      - ""
    resources:
      - replicationcontrollers
    verbs:
      - get
  - apiGroups:
      - security.openshift.io
    resourceNames:
      - datadog-cluster-agent
      - hostnetwork
    resources:
      - securitycontextconstraints
    verbs:
      - use
  - apiGroups:
      - policy
    resources:
      - poddisruptionbudgets
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - datadoghq.com
      - karpenter.azure.com
      - karpenter.k8s.aws
      - karpenter.sh
    resources:
      - '*'
    verbs:
      - list
      - watch
  - apiGroups:
      - argoproj.io
    resources:
      - rollouts
    verbs:
      - list
      - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-ksm-core
rules:
  - apiGroups:
      - ""
    resources:
      - secrets
      - configmaps
      - nodes
      - pods
      - services
      - resourcequotas
      - replicationcontrollers
      - limitranges
      - persistentvolumeclaims
      - persistentvolumes
      - namespaces
      - endpoints
      - events
    verbs:
      - list
      - watch
  - apiGroups:
      - extensions
    resources:
      - daemonsets
      - deployments
      - replicasets
    verbs:
      - list
      - watch
  - apiGroups:
      - apps
    resources:
      - statefulsets
      - daemonsets
      - deployments
      - replicasets
    verbs:
      - list
      - watch
  - apiGroups:
      - batch
    resources:
      - cronjobs
      - jobs
    verbs:
      - list
      - watch
  - apiGroups:
      - autoscaling
    resources:
      - horizontalpodautoscalers
    verbs:
      - list
      - watch
  - apiGroups:
      - policy
    resources:
      - poddisruptionbudgets
    verbs:
      - list
      - watch
  - apiGroups:
      - storage.k8s.io
    resources:
      - storageclasses
      - volumeattachments
    verbs:
      - list
      - watch
  - apiGroups:
      - networking.k8s.io
    resources:
      - ingresses
    verbs:
      - list
      - watch
  - apiGroups:
      - apiextensions.k8s.io
    resources:
      - customresourcedefinitions
    verbs:
      - list
      - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog
rules:
  - nonResourceURLs:
      - /metrics
      - /metrics/slis
    verbs:
      - get
  - apiGroups:
      - ""
    resources:
      - nodes/metrics
      - nodes/spec
      - nodes/proxy
      - nodes/stats
    verbs:
      - get
  - apiGroups:
      - ""
    resources:
      - endpoints
    verbs:
      - get
  - apiGroups:
      - security.openshift.io
    resourceNames:
      - datadog
      - hostaccess
      - privileged
    resources:
      - securitycontextconstraints
    verbs:
      - use
  - apiGroups:
      - coordination.k8s.io
    resources:
      - leases
    verbs:
      - get
  - apiGroups:
      - metrics.eks.amazonaws.com
    resources:
      - kcm/metrics
      - ksh/metrics
    verbs:
      - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: datadog-operator
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: datadog-operator
subjects:
  - kind: ServiceAccount
    name: datadog-operator
    namespace: datadog-agent
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-cluster-checks
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: datadog
subjects:
  - kind: ServiceAccount
    name: datadog-cluster-checks
    namespace: datadog-agent
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-cluster-agent
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: datadog-cluster-agent
subjects:
  - kind: ServiceAccount
    name: datadog-cluster-agent
    namespace: datadog-agent
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-ksm-core
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: datadog-ksm-core
subjects:
  - kind: ServiceAccount
    name: datadog-cluster-agent
    namespace: datadog-agent
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: datadog
subjects:
  - kind: ServiceAccount
    name: datadog
    namespace: datadog-agent
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-cluster-agent-main
  namespace: datadog-agent
rules:
  - apiGroups:
      - ""
    resources:
      - secrets
    verbs:
      - get
      - list
      - watch
      - update
      - create
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-dca-flare
  namespace: datadog-agent
rules:
  - apiGroups:
      - ""
    resources:
      - secrets
      - configmaps
    verbs:
      - get
      - list
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-cluster-agent-main
  namespace: datadog-agent
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: datadog-cluster-agent-main
subjects:
  - kind: ServiceAccount
    name: datadog-cluster-agent
    namespace: datadog-agent
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-dca-flare
  namespace: datadog-agent
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: datadog-dca-flare
subjects:
  - kind: ServiceAccount
    name: datadog-cluster-agent
    namespace: datadog-agent
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-cluster-agent
  namespace: datadog-agent
spec:
  ports:
    - name: agentport
      port: 5005
      protocol: TCP
  selector:
    app: datadog-cluster-agent
  type: ClusterIP
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: datadog
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
    heritage: Helm
    release: datadog
  name: datadog-cluster-agent-admission-controller
  namespace: datadog-agent
spec:
  ports:
    - name: datadog-webhook
      port: 443
      protocol: TCP
      targetPort: 8000
  selector:
    app: datadog-cluster-agent
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: datadog
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
    heritage: Helm
    release: datadog
  name: datadog
  namespace: datadog-agent
spec:
  internalTrafficPolicy: Local
  ports:
    - name: dogstatsdport
      port: 8125
      protocol: UDP
      targetPort: 8125
    - name: traceport
      port: 8126
      protocol: TCP
      targetPort: 8126
  selector:
    app: datadog
---
apiVersion: apps/v1
kind: DaemonSet
metadata:
  labels:
    app.kubernetes.io/component: agent
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog
  namespace: datadog-agent
spec:
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app: datadog
  template:
    metadata:
      annotations: {}
      labels:
        admission.datadoghq.com/enabled: "false"
        app: datadog
        app.kubernetes.io/component: agent
        app.kubernetes.io/instance: datadog
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: datadog
      name: datadog
    spec:
      affinity: {}
      automountServiceAccountToken: true
      containers:
        - command:
            - agent
            - run
          env:
            - name: DD_API_KEY
              valueFrom:
                secretKeyRef:
                  key: api-key
                  name: datadog-secret
            - name: DD_APP_KEY
              valueFrom:
                secretKeyRef:
                  key: app-key
                  name: datadog-secret
            - name: DD_REMOTE_CONFIGURATION_ENABLED
              value: "true"
            - name: DD_AUTH_TOKEN_FILE_PATH
              value: /etc/datadog-agent/auth/token
            - name: KUBERNETES
              value: "yes"
            - name: DD_CSI_ENABLED
              value: "false"
            - name: DD_LANGUAGE_DETECTION_ENABLED
              value: "false"
            - name: DD_LANGUAGE_DETECTION_REPORTING_ENABLED
              value: "true"
            - name: DD_KUBERNETES_KUBELET_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_KUBELET_USE_API_SERVER
              value: "false"
            - name: DD_OTLP_CONFIG_LOGS_ENABLED
              value: "false"
            - name: DD_PROCESS_CONFIG_PROCESS_COLLECTION_ENABLED
              value: "false"
            - name: DD_PROCESS_CONFIG_CONTAINER_COLLECTION_ENABLED
              value: "true"
            - name: DD_PROCESS_AGENT_DISCOVERY_ENABLED
              value: "true"
            - name: DD_STRIP_PROCESS_ARGS
              value: "false"
            - name: DD_PROCESS_CONFIG_RUN_IN_CORE_AGENT_ENABLED
              value: "true"
            - name: DD_LOG_LEVEL
              value: info
            - name: DD_DOGSTATSD_PORT
              value: "8125"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_DOGSTATSD_TAG_CARDINALITY
              value: low
            - name: DD_DOGSTATSD_SOCKET
              value: /var/run/datadog/dsd.socket
            - name: DD_CLUSTER_AGENT_ENABLED
              value: "true"
            - name: DD_CLUSTER_AGENT_KUBERNETES_SERVICE_NAME
              value: datadog-cluster-agent
            - name: DD_CLUSTER_AGENT_AUTH_TOKEN
              valueFrom:
                secretKeyRef:
                  key: token
                  name: datadog-cluster-agent
            - name: DD_APM_ENABLED
              value: "true"
            - name: DD_APM_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_RECEIVER_PORT
              value: "8126"
            - name: DD_APM_RECEIVER_SOCKET
              value: /var/run/datadog/apm.socket
            - name: DD_INSTRUMENTATION_INSTALL_TIME
              valueFrom:
                configMapKeyRef:
                  key: install_time
                  name: datadog-kpi-telemetry-configmap
            - name: DD_INSTRUMENTATION_INSTALL_ID
              valueFrom:
                configMapKeyRef:
                  key: install_id
                  name: datadog-kpi-telemetry-configmap
            - name: DD_INSTRUMENTATION_INSTALL_TYPE
              valueFrom:
                configMapKeyRef:
                  key: install_type
                  name: datadog-kpi-telemetry-configmap
            - name: DD_LOGS_ENABLED
              value: "false"
            - name: DD_LOGS_CONFIG_CONTAINER_COLLECT_ALL
              value: "false"
            - name: DD_LOGS_CONFIG_K8S_CONTAINER_USE_FILE
              value: "false"
            - name: DD_LOGS_CONFIG_AUTO_MULTI_LINE_DETECTION
              value: "false"
            - name: DD_HEALTH_PORT
              value: "5555"
            - name: DD_EXTRA_CONFIG_PROVIDERS
              value: endpointschecks
            - name: DD_IGNORE_AUTOCONF
              value: kubernetes_state
            - name: DD_CONTAINER_LIFECYCLE_ENABLED
              value: "true"
            - name: DD_ORCHESTRATOR_EXPLORER_ENABLED
              value: "true"
            - name: DD_EXPVAR_PORT
              value: "6000"
            - name: DD_COMPLIANCE_CONFIG_ENABLED
              value: "false"
            - name: DD_CONTAINER_IMAGE_ENABLED
              value: "true"
            - name: DD_KUBELET_CORE_CHECK_ENABLED
              value: "true"
            - name: DD_KUBERNETES_KUBELET_PODRESOURCES_SOCKET
              value: /var/lib/kubelet/pod-resources/kubelet.sock
          image: gcr.io/datadoghq/agent:7.71.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 6
            httpGet:
              path: /live
              port: 5555
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 5
          name: agent
          ports:
            - containerPort: 8125
              name: dogstatsdport
              protocol: UDP
          readinessProbe:
            failureThreshold: 6
            httpGet:
              path: /ready
              port: 5555
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            readOnlyRootFilesystem: true
            runAsNonRoot: true
          startupProbe:
            failureThreshold: 6
            httpGet:
              path: /startup
              port: 5555
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 5
          volumeMounts:
            - mountPath: /var/log/datadog
              name: logdatadog
              readOnly: false
            - mountPath: /etc/datadog-agent/install_info
              name: installinfo
              readOnly: true
              subPath: install_info
            - mountPath: /tmp
              name: tmpdir
              readOnly: false
            - mountPath: /host/etc/os-release
              name: os-release-file
              readOnly: true
            - mountPath: /etc/datadog-agent
              name: config
              readOnly: false
            - mountPath: /etc/datadog-agent/auth
              name: auth-token
              readOnly: false
            - mountPath: /host/var/run
              mountPropagation: None
              name: runtimesocketdir
              readOnly: true
            - mountPath: /var/run/datadog
              name: dsdsocket
              readOnly: false
            - mountPath: /host/proc
              mountPropagation: None
              name: procdir
              readOnly: true
            - mountPath: /host/sys/fs/cgroup
              mountPropagation: None
              name: cgroups
              readOnly: true
        - command:
            - trace-agent
            - -config=/etc/datadog-agent/datadog.yaml
          env:
            - name: DD_API_KEY
              valueFrom:
                secretKeyRef:
                  key: api-key
                  name: datadog-secret
            - name: DD_APP_KEY
              valueFrom:
                secretKeyRef:
                  key: app-key
                  name: datadog-secret
            - name: DD_REMOTE_CONFIGURATION_ENABLED
              value: "true"
            - name: DD_AUTH_TOKEN_FILE_PATH
              value: /etc/datadog-agent/auth/token
            - name: KUBERNETES
              value: "yes"
            - name: DD_CSI_ENABLED
              value: "false"
            - name: DD_LANGUAGE_DETECTION_ENABLED
              value: "false"
            - name: DD_LANGUAGE_DETECTION_REPORTING_ENABLED
              value: "true"
            - name: DD_KUBERNETES_KUBELET_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_KUBELET_USE_API_SERVER
              value: "false"
            - name: DD_OTLP_CONFIG_LOGS_ENABLED
              value: "false"
            - name: DD_CLUSTER_AGENT_ENABLED
              value: "true"
            - name: DD_CLUSTER_AGENT_KUBERNETES_SERVICE_NAME
              value: datadog-cluster-agent
            - name: DD_CLUSTER_AGENT_AUTH_TOKEN
              valueFrom:
                secretKeyRef:
                  key: token
                  name: datadog-cluster-agent
            - name: DD_LOG_LEVEL
              value: info
            - name: DD_APM_ENABLED
              value: "true"
            - name: DD_APM_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_RECEIVER_PORT
              value: "8126"
            - name: DD_APM_RECEIVER_SOCKET
              value: /var/run/datadog/apm.socket
            - name: DD_DOGSTATSD_SOCKET
              value: /var/run/datadog/dsd.socket
            - name: DD_INSTRUMENTATION_INSTALL_TIME
              valueFrom:
                configMapKeyRef:
                  key: install_time
                  name: datadog-kpi-telemetry-configmap
            - name: DD_INSTRUMENTATION_INSTALL_ID
              valueFrom:
                configMapKeyRef:
                  key: install_id
                  name: datadog-kpi-telemetry-configmap
            - name: DD_INSTRUMENTATION_INSTALL_TYPE
              valueFrom:
                configMapKeyRef:
                  key: install_type
                  name: datadog-kpi-telemetry-configmap
          image: gcr.io/datadoghq/agent:7.71.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            initialDelaySeconds: 15
            periodSeconds: 15
            tcpSocket:
              port: 8126
            timeoutSeconds: 5
          name: trace-agent
          ports:
            - containerPort: 8126
              name: traceport
              protocol: TCP
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            runAsNonRoot: true
          volumeMounts:
            - mountPath: /etc/datadog-agent
              name: config
              readOnly: true
            - mountPath: /var/log/datadog
              name: logdatadog
              readOnly: false
            - mountPath: /etc/datadog-agent/auth
              name: auth-token
              readOnly: true
            - mountPath: /host/proc
              mountPropagation: None
              name: procdir
              readOnly: true
            - mountPath: /host/sys/fs/cgroup
              mountPropagation: None
              name: cgroups
              readOnly: true
            - mountPath: /tmp
              name: tmpdir
              readOnly: false
            - mountPath: /var/run/datadog
              name: dsdsocket
              readOnly: false
            - mountPath: /host/var/run
              mountPropagation: None
              name: runtimesocketdir
              readOnly: true
      hostPID: true
      initContainers:
        - args:
            - cp -r /etc/datadog-agent /opt
          command:
            - bash
            - -c
          image: gcr.io/datadoghq/agent:7.71.2
          imagePullPolicy: IfNotPresent
          name: init-volume
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            runAsNonRoot: true
          volumeMounts:
            - mountPath: /opt/datadog-agent
              name: config
              readOnly: false
        - args:
            - for script in $(find /etc/cont-init.d/ -type f -name '*.sh' | sort) ; do bash $script ; done
          command:
            - bash
            - -c
          env:
            - name: DD_API_KEY
              valueFrom:
                secretKeyRef:
                  key: api-key
                  name: datadog-secret
            - name: DD_APP_KEY
              valueFrom:
                secretKeyRef:
                  key: app-key
                  name: datadog-secret
            - name: DD_REMOTE_CONFIGURATION_ENABLED
              value: "true"
            - name: DD_AUTH_TOKEN_FILE_PATH
              value: /etc/datadog-agent/auth/token
            - name: KUBERNETES
              value: "yes"
            - name: DD_CSI_ENABLED
              value: "false"
            - name: DD_LANGUAGE_DETECTION_ENABLED
              value: "false"
            - name: DD_LANGUAGE_DETECTION_REPORTING_ENABLED
              value: "true"
            - name: DD_KUBERNETES_KUBELET_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_KUBELET_USE_API_SERVER
              value: "false"
            - name: DD_OTLP_CONFIG_LOGS_ENABLED
              value: "false"
          image: gcr.io/datadoghq/agent:7.71.2
          imagePullPolicy: IfNotPresent
          name: init-config
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            runAsNonRoot: true
          volumeMounts:
            - mountPath: /etc/datadog-agent
              name: config
              readOnly: false
            - mountPath: /var/log/datadog
              name: logdatadog
              readOnly: false
            - mountPath: /host/proc
              mountPropagation: None
              name: procdir
              readOnly: true
            - mountPath: /host/var/run
              mountPropagation: None
              name: runtimesocketdir
              readOnly: true
      nodeSelector:
        kubernetes.io/os: linux
      securityContext:
        runAsUser: 100
        seccompProfile:
          type: RuntimeDefault
      serviceAccountName: datadog
      tolerations: null
      volumes:
        - emptyDir: {}
          name: auth-token
        - configMap:
            name: datadog-installinfo
          name: installinfo
        - emptyDir: {}
          name: config
        - emptyDir: {}
          name: logdatadog
        - emptyDir: {}
          name: tmpdir
        - emptyDir: {}
          name: s6-run
        - hostPath:
            path: /proc
          name: procdir
        - hostPath:
            path: /sys/fs/cgroup
          name: cgroups
        - hostPath:
            path: /etc/os-release
          name: os-release-file
        - hostPath:
            path: /var/run/datadog
            type: DirectoryOrCreate
          name: dsdsocket
        - hostPath:
            path: /var/run/datadog
            type: DirectoryOrCreate
          name: apmsocket
        - hostPath:
            path: /var/run
          name: runtimesocketdir
  updateStrategy:
    rollingUpdate:
      maxUnavailable: 10%
    type: RollingUpdate
---
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: operator
    app.kubernetes.io/version: 1.19.0
  name: datadog-operator
  namespace: datadog-agent
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/instance: datadog
      app.kubernetes.io/name: operator
  template:
    metadata:
      annotations:
        ad.datadoghq.com/operator.check_names: '["openmetrics"]'
        ad.datadoghq.com/operator.init_configs: '[{}]'
        ad.datadoghq.com/operator.instances: |
          [{
            "prometheus_url": "http://%%host%%:8383/metrics",
            "namespace": "datadog.operator",
            "metrics": ["*"]
          }]
      labels:
        app.kubernetes.io/instance: datadog
        app.kubernetes.io/name: operator
    spec:
      containers:
        - args:
            - -supportExtendedDaemonset=false
            - -logEncoder=json
            - -metrics-addr=:8383
            - -loglevel=info
            - -operatorMetricsEnabled=true
            - -introspectionEnabled=false
            - -datadogAgentProfileEnabled=false
            - -datadogMonitorEnabled=false
            - -datadogAgentEnabled=true
            - -datadogSLOEnabled=false
            - -datadogDashboardEnabled=false
            - -datadogGenericResourceEnabled=false
            - -remoteConfigEnabled=false
          env:
            - name: WATCH_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
            - name: DD_HOSTNAME
              valueFrom:
                fieldRef:
                  fieldPath: spec.nodeName
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  fieldPath: metadata.name
            - name: DD_TOOL_VERSION
              value: helm
          image: gcr.io/datadoghq/operator:1.19.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /healthz/
              port: 8081
            initialDelaySeconds: 15
            periodSeconds: 10
          name: operator
          ports:
            - containerPort: 8383
              name: metrics
              protocol: TCP
          resources: {}
          volumeMounts: null
      serviceAccountName: datadog-operator
      volumes: null
---
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app.kubernetes.io/component: clusterchecks-agent
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-clusterchecks
  namespace: datadog-agent
spec:
  replicas: 2
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app: datadog-clusterchecks
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
    type: RollingUpdate
  template:
    metadata:
      annotations: {}
      labels:
        admission.datadoghq.com/enabled: "false"
        app: datadog-clusterchecks
        app.kubernetes.io/component: clusterchecks-agent
        app.kubernetes.io/instance: datadog
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: datadog
      name: datadog-clusterchecks
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchLabels:
                    app: datadog-clusterchecks
                topologyKey: kubernetes.io/hostname
              weight: 50
      automountServiceAccountToken: true
      containers:
        - args:
            - find /etc/datadog-agent/conf.d/ -name "*.yaml.default" -type f -delete && touch /etc/datadog-agent/datadog.yaml && exec agent run
          command:
            - bash
            - -c
          env:
            - name: KUBERNETES
              value: "yes"
            - name: DD_CSI_ENABLED
              value: "false"
            - name: DD_API_KEY
              valueFrom:
                secretKeyRef:
                  key: api-key
                  name: datadog-secret
            - name: DD_LOG_LEVEL
              value: info
            - name: DD_EXTRA_CONFIG_PROVIDERS
              value: clusterchecks
            - name: DD_HEALTH_PORT
              value: "5557"
            - name: DD_CLUSTER_AGENT_ENABLED
              value: "true"
            - name: DD_CLUSTER_AGENT_KUBERNETES_SERVICE_NAME
              value: datadog-cluster-agent
            - name: DD_CLUSTER_AGENT_AUTH_TOKEN
              valueFrom:
                secretKeyRef:
                  key: token
                  name: datadog-cluster-agent
            - name: DD_ENABLE_METADATA_COLLECTION
              value: "false"
            - name: DD_CLC_RUNNER_ENABLED
              value: "true"
            - name: DD_CLC_RUNNER_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
            - name: DD_CLC_RUNNER_ID
              valueFrom:
                fieldRef:
                  fieldPath: metadata.name
            - name: DD_USE_DOGSTATSD
              value: "false"
            - name: DD_PROCESS_AGENT_ENABLED
              value: "false"
            - name: DD_PROCESS_CONFIG_RUN_IN_CORE_AGENT_ENABLED
              value: "false"
            - name: DD_LOGS_ENABLED
              value: "false"
            - name: DD_APM_ENABLED
              value: "false"
            - name: DD_REMOTE_CONFIGURATION_ENABLED
              value: "false"
            - name: DD_HOSTNAME
              valueFrom:
                fieldRef:
                  fieldPath: spec.nodeName
          image: gcr.io/datadoghq/agent:7.71.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 6
            httpGet:
              path: /live
              port: 5557
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 5
          name: agent
          readinessProbe:
            failureThreshold: 6
            httpGet:
              path: /ready
              port: 5557
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          startupProbe:
            failureThreshold: 6
            httpGet:
              path: /startup
              port: 5557
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 5
          volumeMounts:
            - mountPath: /etc/datadog-agent/install_info
              name: installinfo
              readOnly: true
              subPath: install_info
            - mountPath: /etc/datadog-agent
              name: config
              readOnly: false
      imagePullSecrets: []
      initContainers:
        - args:
            - cp -r /etc/datadog-agent /opt
          command:
            - bash
            - -c
          image: gcr.io/datadoghq/agent:7.71.2
          imagePullPolicy: IfNotPresent
          name: init-volume
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            runAsNonRoot: true
          volumeMounts:
            - mountPath: /opt/datadog-agent
              name: config
              readOnly: false
        - args:
            - for script in $(find /etc/cont-init.d/ -type f -name '*.sh' | sort) ; do bash $script ; done
          command:
            - bash
            - -c
          image: gcr.io/datadoghq/agent:7.71.2
          imagePullPolicy: IfNotPresent
          name: init-config
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            runAsNonRoot: true
          volumeMounts:
            - mountPath: /etc/datadog-agent
              name: config
              readOnly: false
      nodeSelector:
        kubernetes.io/os: linux
      securityContext:
        runAsUser: 100
        seccompProfile:
          type: RuntimeDefault
      serviceAccountName: datadog-cluster-checks
      volumes:
        - configMap:
            name: datadog-installinfo
          name: installinfo
        - emptyDir: {}
          name: config
---
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app.kubernetes.io/component: cluster-agent
    app.kubernetes.io/instance: datadog
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: datadog
    app.kubernetes.io/version: "7"
  name: datadog-cluster-agent
  namespace: datadog-agent
spec:
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app: datadog-cluster-agent
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
    type: RollingUpdate
  template:
    metadata:
      annotations: {}
      labels:
        admission.datadoghq.com/enabled: "false"
        app: datadog-cluster-agent
        app.kubernetes.io/component: cluster-agent
        app.kubernetes.io/instance: datadog
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: datadog
      name: datadog-cluster-agent
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchLabels:
                    app: datadog-cluster-agent
                topologyKey: kubernetes.io/hostname
              weight: 50
      automountServiceAccountToken: true
      containers:
        - env:
            - name: DD_POD_NAME
              valueFrom:
                fieldRef:
                  fieldPath: metadata.name
            - name: DD_CLUSTER_AGENT_SERVICE_ACCOUNT_NAME
              valueFrom:
                fieldRef:
                  fieldPath: spec.serviceAccountName
            - name: DD_HEALTH_PORT
              value: "5556"
            - name: DD_API_KEY
              valueFrom:
                secretKeyRef:
                  key: api-key
                  name: datadog-secret
                  optional: true
            - name: KUBERNETES
              value: "yes"
            - name: DD_CSI_ENABLED
              value: "false"
            - name: DD_LANGUAGE_DETECTION_ENABLED
              value: "false"
            - name: DD_LANGUAGE_DETECTION_REPORTING_ENABLED
              value: "true"
            - name: DD_ADMISSION_CONTROLLER_ENABLED
              value: "true"
            - name: DD_ADMISSION_CONTROLLER_VALIDATION_ENABLED
              value: "true"
            - name: DD_ADMISSION_CONTROLLER_MUTATION_ENABLED
              value: "true"
            - name: DD_TRACE_AGENT_HOST_SOCKET_PATH
              value: /var/run/datadog
            - name: DD_DOGSTATSD_HOST_SOCKET_PATH
              value: /var/run/datadog
            - name: DD_DOGSTATSD_SOCKET
              value: /var/run/datadog/dsd.socket
            - name: DD_APM_RECEIVER_SOCKET
              value: /var/run/datadog/apm.socket
            - name: DD_ADMISSION_CONTROLLER_WEBHOOK_NAME
              value: datadog-webhook
            - name: DD_ADMISSION_CONTROLLER_MUTATE_UNLABELLED
              value: "false"
            - name: DD_ADMISSION_CONTROLLER_SERVICE_NAME
              value: datadog-cluster-agent-admission-controller
            - name: DD_ADMISSION_CONTROLLER_INJECT_CONFIG_MODE
              value: socket
            - name: DD_ADMISSION_CONTROLLER_INJECT_CONFIG_LOCAL_SERVICE_NAME
              value: datadog
            - name: DD_ADMISSION_CONTROLLER_FAILURE_POLICY
              value: Ignore
            - name: DD_ADMISSION_CONTROLLER_PORT
              value: "8000"
            - name: DD_ADMISSION_CONTROLLER_CONTAINER_REGISTRY
              value: gcr.io/datadoghq
            - name: DD_REMOTE_CONFIGURATION_ENABLED
              value: "false"
            - name: DD_CLUSTER_CHECKS_ENABLED
              value: "true"
            - name: DD_EXTRA_CONFIG_PROVIDERS
              value: kube_endpoints kube_services
            - name: DD_EXTRA_LISTENERS
              value: kube_endpoints kube_services
            - name: DD_LOG_LEVEL
              value: info
            - name: DD_LEADER_ELECTION
              value: "true"
            - name: DD_LEADER_ELECTION_DEFAULT_RESOURCE
              value: configmap
            - name: DD_LEADER_LEASE_DURATION
              value: "15"
            - name: DD_LEADER_LEASE_NAME
              value: datadog-leader-election
            - name: DD_CLUSTER_AGENT_TOKEN_NAME
              value: datadogtoken
            - name: DD_COLLECT_KUBERNETES_EVENTS
              value: "true"
            - name: DD_KUBERNETES_USE_ENDPOINT_SLICES
              value: "false"
            - name: DD_KUBERNETES_EVENTS_SOURCE_DETECTION_ENABLED
              value: "false"
            - name: DD_CLUSTER_AGENT_KUBERNETES_SERVICE_NAME
              value: datadog-cluster-agent
            - name: DD_CLUSTER_AGENT_AUTH_TOKEN
              valueFrom:
                secretKeyRef:
                  key: token
                  name: datadog-cluster-agent
            - name: DD_CLUSTER_AGENT_COLLECT_KUBERNETES_TAGS
              value: "false"
            - name: DD_KUBE_RESOURCES_NAMESPACE
              value: datadog-agent
            - name: CHART_RELEASE_NAME
              value: datadog
            - name: AGENT_DAEMONSET
              value: datadog
            - name: CLUSTER_AGENT_DEPLOYMENT
              value: datadog-cluster-agent
            - name: DD_ORCHESTRATOR_EXPLORER_ENABLED
              value: "true"
            - name: DD_ORCHESTRATOR_EXPLORER_CONTAINER_SCRUBBING_ENABLED
              value: "true"
            - name: DD_CLUSTER_AGENT_LANGUAGE_DETECTION_PATCHER_ENABLED
              value: "false"
            - name: DD_INSTRUMENTATION_INSTALL_TIME
              valueFrom:
                configMapKeyRef:
                  key: install_time
                  name: datadog-kpi-telemetry-configmap
            - name: DD_INSTRUMENTATION_INSTALL_ID
              valueFrom:
                configMapKeyRef:
                  key: install_id
                  name: datadog-kpi-telemetry-configmap
            - name: DD_INSTRUMENTATION_INSTALL_TYPE
              valueFrom:
                configMapKeyRef:
                  key: install_type
                  name: datadog-kpi-telemetry-configmap
          image: gcr.io/datadoghq/cluster-agent:7.71.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 6
            httpGet:
              path: /live
              port: 5556
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 5
          name: cluster-agent
          ports:
            - containerPort: 5005
              name: agentport
              protocol: TCP
            - containerPort: 5000
              name: agentmetrics
              protocol: TCP
            - containerPort: 8000
              name: datadog-webhook
              protocol: TCP
          readinessProbe:
            failureThreshold: 6
            httpGet:
              path: /ready
              port: 5556
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            readOnlyRootFilesystem: true
            runAsNonRoot: true
          startupProbe:
            failureThreshold: 6
            httpGet:
              path: /startup
              port: 5556
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 5
          volumeMounts:
            - mountPath: /opt/datadog-agent/run
              name: datadogrun
              readOnly: false
            - mountPath: /var/log/datadog
              name: varlog
              readOnly: false
            - mountPath: /tmp
              name: tmpdir
              readOnly: false
            - mountPath: /etc/datadog-agent/install_info
              name: installinfo
              readOnly: true
              subPath: install_info
            - mountPath: /conf.d
              name: confd
              readOnly: true
            - mountPath: /etc/datadog-agent
              name: config
      initContainers:
        - args:
            - /etc/datadog-agent
            - /opt
          command:
            - cp
            - -r
          image: gcr.io/datadoghq/cluster-agent:7.71.2
          imagePullPolicy: IfNotPresent
          name: init-volume
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            runAsNonRoot: true
          volumeMounts:
            - mountPath: /opt/datadog-agent
              name: config
      nodeSelector:
        kubernetes.io/os: linux
      securityContext:
        runAsUser: 100
        seccompProfile:
          type: RuntimeDefault
      serviceAccountName: datadog-cluster-agent
      volumes:
        - emptyDir: {}
          name: datadogrun
        - emptyDir: {}
          name: varlog
        - emptyDir: {}
          name: tmpdir
        - configMap:
            name: datadog-installinfo
          name: installinfo
        - configMap:
            items:
              - key: kubernetes_state_core.yaml.default
                path: kubernetes_state_core.yaml.default
              - key: kubernetes_apiserver.yaml
                path: kubernetes_apiserver.yaml
            name: datadog-cluster-agent-confd
          name: confd
        - emptyDir: {}
          name: config
---
