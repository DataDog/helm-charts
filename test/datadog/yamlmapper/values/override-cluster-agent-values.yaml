# Test values for Cluster Agent component override mappings
# Tests: clusterAgent.image.name/tag/pullPolicy, clusterAgent.env, clusterAgent.envFrom, 
#        clusterAgent.strategy, clusterAgent.useHostNetwork, clusterAgent.replicas, clusterAgent.resources,
#        clusterAgent.priorityClassName
# Note: clusterAgent.image.repository, clusterAgent.podLabels, clusterAgent.confd are not mapped
# Note: clusterAgent.image.pullSecrets, clusterAgent.tolerations, clusterAgent.nodeSelector, clusterAgent.affinity, 
#       livenessProbe, readinessProbe, startupProbe, pdb.create, additionalLabels, 
#       deploymentAnnotations, podAnnotations mappings are disabled
datadog:
  apiKey: "00000000000000000000000000000000"
  appKey: "0000000000000000000000000000000000000000"
  kubelet:
    tlsVerify: false

clusterAgent:
  enabled: true
  
  priorityClassName: cluster-agent-critical
  
  image:
    name: cluster-agent
    tag: 7.72.0
    pullPolicy: Always
  
  replicas: 1
    
  useHostNetwork: false
  
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  
  # Note: ConfigMap 'cluster-agent-config' is created by the test framework before helm install
  envFrom:
    - configMapRef:
        name: cluster-agent-config
  
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
    
  env:
    - name: DD_CLUSTER_AGENT_CUSTOM_VAR
      value: "custom-value"

