registry: "docker.io/datadog"
datadog:
  apiKey: "testapikey"
  appKey: "testappkey"
  expvarPort: "6000"

  logLevel: "debug"

  kubeStateMetricsCore:
    enabled: true
  useHostPID: true

  clusterChecks:
    enabled: true
    shareProcessNamespace: true

  nodeLabelsAsTags:
    beta.kubernetes.io/instance-type: aws-instance-type
  podLabelsAsTags:
    app: kube_app
  podAnnotationsAsTags:
    iam.amazonaws.com/role: kube_iamrole
  namespaceLabelsAsTags:
    env: environment
  tags:
    - "test:tag"
  checksCardinality: low

  kubelet:
    tlsVerify: false

  dogstatsd:
    port: 1234
    originDetection: true
    useSocketVolume: true
    useHostPort: false
  prometheusScrape:
    additionalConfigs:
     -
       autodiscovery:
         kubernetes_annotations:
           include:
             custom_include_label: 'true'
           exclude:
             custom_exclude_label: 'true'
         kubernetes_container_names:
         - my-app
       configurations:
       - send_distribution_buckets: true
         timeout: 5
  otelCollector:
    enabled: true
    ports:
      - containerPort: 4317
        name: otel-grpc
        protocol: TCP
        # Default HTTP port of OTLP receiver
      - containerPort: 4318
        name: otel-http
        protocol: TCP

agents:
  containers:
    agent:
      env:
        - name: DD_LOG_LEVEL
          value: "warn"
        - name: DD_USE_DOGSTATSD
          value: "true"
  volumeMounts:
    - name: example
      mountPath: "this/is/a/volume/mount"
      readOnly: true
  volumes:
      - hostPath:
          path: "this/is/a/host/path"
        name: example
