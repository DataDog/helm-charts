apiVersion: datadoghq.com/v2alpha1
kind: DatadogAgent
metadata:
  name: datadog
  namespace: datadog
spec:
  features:
    clusterChecks:
      enabled: true
    dogstatsd:
      hostPortConfig:
        enabled: false
        hostPort: 1234
      originDetectionEnabled: true
      unixDomainSocketConfig:
        enabled: true
    kubeStateMetricsCore:
      enabled: true
  global:
    credentials:
      apiKey: testapikey
      appKey: testappkey
    kubelet:
      tlsVerify: false
    logLevel: debug
    registry: docker.io/datadog
    tags:
    - test:tag
  override:
    nodeAgent:
      containers:
        node-agent:
          volumeMounts:
          - mountPath: this/is/a/volume/mount
            name: example
            readOnly: true
        process-agent:
          volumeMounts:
          - mountPath: this/is/a/volume/mount
            name: example
            readOnly: true
        security-agent:
          volumeMounts:
          - mountPath: this/is/a/volume/mount
            name: example
            readOnly: true
        system-probe:
          volumeMounts:
          - mountPath: this/is/a/volume/mount
            name: example
            readOnly: true
        trace-agent:
          volumeMounts:
          - mountPath: this/is/a/volume/mount
            name: example
            readOnly: true
      hostPID: true
      volumes:
      - hostPath:
          path: this/is/a/host/path
        name: example
