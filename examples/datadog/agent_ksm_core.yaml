## Datadog Agent with KSM Core check enabled

datadog:
  apiKey: <DATADOG_API_KEY>
  appKey: <DATADOG_APP_KEY>
  clusterName: <CLUSTER_NAME>
  tags: []
  ## KSM Legacy should be disabled
  kubeStateMetricsEnabled: false
  kubeStateMetricsNetworkPolicy:
    create: false
  kubeStateMetricsCore:
    enabled: true
    rbac:
      create: true
    ignoreLegacyKSMCheck: true
    collectSecretMetrics: true
    collectVpaMetrics: false
    ## KSM Core is run by cluster agent by default but you can dispatch it to a cluster check runner
    useClusterCheckRunners: true
    labelsAsTags: {}
  ## Required for Cluster check runner
  clusterChecks:
    enabled: true
    shareProcessNamespace: false
  ## apm is not required
  apm:
    socketEnabled: false
    portEnabled: false
  ## process-agent is not required
  processAgent:
    enabled: false
    processCollection: false
agents:
  enabled: true
## KSM Core is handled by Cluster agent
clusterAgent:
  enabled: true
  shareProcessNamespace: false
  replicas: 1
  rbac:
    create: true
    serviceAccountName: default
    serviceAccountAnnotations: {}
  env: []
  envFrom: []
## Enable Cluster check runner
## See: https://docs.datadoghq.com/containers/cluster_agent/clusterchecksrunner/?tab=helm#pagetitle
clusterChecksRunner:
  enabled: true
  replicas: 2
